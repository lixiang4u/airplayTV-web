"use strict";(self.webpackChunkAVPlayer=self.webpackChunkAVPlayer||[]).push([[854],{85947:(t,e,n)=>{n.d(e,{A:()=>u});var r=n(78716),a=n(81570),i=n(134),u=function(){function t(){(0,r.A)(this,t),(0,i.A)(this,"type",-1),(0,i.A)(this,"onStreamAdd",void 0)}return(0,a.A)(t,[{key:"destroy",value:function(t){}}]),t}()},98854:(t,e,n)=>{n.r(e),n.d(e,{default:()=>w});var r=n(88435),a=n.n(r),i=n(25182),u=n(78716),o=n(81570),c=n(77193),s=n(25767),f=n(43070),l=n(31060),h=n(134),d=n(36443),p=n.n(d),g=n(73146),v=n.n(g),b=n(50932),x=n(4624),m=n(9705),k=n(85947),y=n(14686),A=n(37837),B=n(71517),I=n(72739),j=n(50011),q=n(38115);function N(t,e,n){return e=(0,s.A)(e),(0,c.A)(t,V()?a()(e,n||[],(0,s.A)(t).constructor):e.apply(t,n))}function V(){try{var t=!Boolean.prototype.valueOf.call(a()(Boolean,[],(function(){})))}catch(t){}return(V=function(){return!!t})()}var w=function(t){function e(){var t;return(0,u.A)(this,e),t=N(this,e),(0,h.A)((0,f.A)(t),"type",18),(0,h.A)((0,f.A)(t),"queue",void 0),(0,h.A)((0,f.A)(t),"index",void 0),t}var n,r,a;return(0,l.A)(e,t),(0,o.A)(e,[{key:"init",value:function(t){this.queue=[]}},{key:"readHeader",value:(a=(0,i.A)(p().mark((function t(e){var n,r,a,i,u,o;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((n=e.createStream()).codecpar.codecId=94232,n.codecpar.codecType=3,n.timeBase.den=1e3,n.timeBase.num=1,r="",!(1&e.ioReader.flags)){t.next=15;break}return t.next=9,e.ioReader.fileSize();case 9:return a=t.sent,t.next=12,e.ioReader.readString(0|Number(0xffffffffn&a));case 12:r=t.sent,t.next=25;break;case 15:return t.prev=15,t.t0=r,t.next=19,e.ioReader.readLine();case 19:t.t1=t.sent,r=t.t0+=t.t1+"\n",t.next=25;break;case 23:t.prev=23,t.t2=t.catch(15);case 25:return j&&(i=q.q(r),this.queue=i.queue,i.head&&(u=v()(i.head),o=j.encode(u),n.codecpar.extradata=(0,A.sY)(o.length),(0,y.lW)(n.codecpar.extradata,o.length,o),n.codecpar.extradataSize=o.length)),this.index=0,t.abrupt("return",0);case 28:case"end":return t.stop()}}),t,this,[[15,23]])}))),function(t){return a.apply(this,arguments)})},{key:"readAVPacket",value:(r=(0,i.A)(p().mark((function t(e,n){var r,a,i,u;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.queue.length){t.next=2;break}return t.abrupt("return",m.LR);case 2:if(!(this.index>=this.queue.length)){t.next=4;break}return t.abrupt("return",-1048576);case 4:return r=e.streams.find((function(t){return 3===t.codecpar.codecType})),a=this.queue[this.index++],b.M[15](n+32,r.index),b.M[15](n+76,r.timeBase.den),b.M[15](n+72,r.timeBase.num),b.M[17](n+16,a.pts),b.M[17](n+8,a.pts),b.M[17](n+48,a.duration),i=j.encode(a.context),u=(0,A.sY)(i.length),(0,y.lW)(u,i.length,i),(0,B.NX)(n,u,i.length),t.abrupt("return",0);case 16:case"end":return t.stop()}}),t,this)}))),function(t,e){return r.apply(this,arguments)})},{key:"seek",value:(n=(0,i.A)(p().mark((function t(e,n,r,a){var i;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(2&a)){t.next=2;break}return t.abrupt("return",BigInt(m.E$));case 2:if(!(r<=BigInt(0))){t.next=5;break}return this.index=0,t.abrupt("return",BigInt(0));case 5:if(!((i=I.El(this.queue,(function(t){return t.pts>r?-1:1})))>=0)){t.next=18;break}x.Yz("seek in cues, found index: ".concat(i,", pts: ").concat(this.queue[i].pts),"src/avformat/formats/ITtmlFormat.ts",143),this.index=Math.max(i-1,0);case 9:if(!(this.index>0)){t.next=17;break}if(this.queue[this.index-1].pts!==this.queue[this.index].pts){t.next=14;break}this.index--,t.next=15;break;case 14:return t.abrupt("break",17);case 15:t.next=9;break;case 17:return t.abrupt("return",BigInt(0));case 18:return t.abrupt("return",BigInt(m.LR));case 19:case"end":return t.stop()}}),t,this)}))),function(t,e,r,a){return n.apply(this,arguments)})},{key:"getAnalyzeStreamsCount",value:function(){return 1}}]),e}(k.A)},38115:(t,e,n)=>{n.d(e,{q:()=>o});var r=n(79331),a=n(67672),i=n(72739),u=n(54825);function o(t){var e=(0,r.A)(t,{aloneValueName:"context"});if(!e.tt)return{queue:[],head:{}};var n=[];function o(t){var e="";return i.__(t,(function(t){a.Yj(t)?e+=t:t.context?e+="<".concat(t.tagName,">").concat(t.context,"</").concat(t.tagName,">"):e+="<".concat(t.tagName,"/>")})),e}function c(t,e,r){var i,c=(0,u.j)(e||t.begin),s=t.context||"",f=t.region||"Default";a.YO(s)&&(s=o(s)),null!==(i=t.span)&&void 0!==i&&i.context&&(t.span.region&&(f=t.span.region),a.Yj(t.span.context)?s+=t.span.context:s+=o(t.span.context)),n.push({context:s,pts:c,region:f,duration:t.dur?(0,u.j)(t.dur):(0,u.j)(r||t.end)-c})}function s(t,e,n){a.YO(t)?i.__(t,(function(t){c(t,e,n)})):c(t,e,n)}return e.tt.body&&e.tt.body.div&&(a.YO(e.tt.body.div)?i.__(e.tt.body.div,(function(t){t.p&&s(t.p,t.begin,t.end)})):e.tt.body.div.p&&s(e.tt.body.div.p,e.tt.body.div.begin,e.tt.body.end)),{queue:n,head:e.tt.head||{}}}},54825:(t,e,n)=>{function r(t){if(!(t=t.trim()))return-BigInt(1);var e=t.split(":"),n=BigInt(0);return 3===e.length&&(n+=BigInt(+e.shift().trim())*BigInt(36e5)),n+=BigInt(+e.shift().trim())*BigInt(6e4),e=e.shift().trim().split("."),(n+=BigInt(+e.shift().trim())*BigInt(1e3))+BigInt(+e.shift().trim())}function a(t){if(!(t=t.trim()))return-BigInt(1);var e=t.split(":"),n=BigInt(0);return 3===e.length&&(n+=BigInt(+e.shift().trim())*BigInt(36e5)),n+=BigInt(+e.shift().trim())*BigInt(6e4),e=e.shift().trim().split(","),(n+=BigInt(+e.shift().trim())*BigInt(1e3))+BigInt(+e.shift().trim())}n.d(e,{j:()=>r,t:()=>a})},79331:(t,e,n)=>{n.d(e,{A:()=>B});var r=n(69736),a=n.n(r),i=n(44301),u=n.n(i),o=n(82731),c=n.n(o),s=n(59614),f=n.n(s),l=n(969),h=n.n(l),d=n(66681),p=n.n(d),g=n(134),v=n(68632),b=n.n(v),x=n(72739);function m(t,e){var n=a()(t);if(u()){var r=u()(t);e&&(r=r.filter((function(e){return c()(t,e).enumerable}))),n.push.apply(n,r)}return n}function k(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach((function(e){(0,g.A)(t,e,n[e])})):f()?h()(t,f()(n)):m(Object(n)).forEach((function(e){p()(t,e,c()(n,e))}))}return t}var y={aloneValueName:"_@attribute"},A=[" ","/",'"',"'","<",">"];function B(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y;t=(t=(t=(t=t.replace(/<!--[\s\S]*?-->/g,"")).replace(/[\n\t\r]/g,"")).replace(/>[ \t]+</g,"><")).replace(/<\?[^>]*\?>/g,"");var n=[],r=0;function a(t,r){var a=n[n.length-1];a&&(t===e.aloneValueName||null==a.obj[e.aloneValueName]?null==a.obj[t]?a.obj[t]=r:b()(a.obj[t])?a.obj[t].push(r):a.obj[t]=[a.obj[t],r]:a.obj[e.aloneValueName]=[a.obj[e.aloneValueName],k({tagName:t},r)])}function i(e){for(;r<t.length;){if(t[r]===e)return!0;r++}return!1}function u(){o();for(var e="";r<t.length&&!x.zy(A,t[r]);)e+=t[r],r++;return e}function o(){for(;r<t.length&&/\s|\r|\n/.test(t[r]);)r++}var c=/\s/,s=/'/,f=/"/;function l(){if(r>=t.length)return!0;o();var e=c;'"'!==t[r]&&"'"!=t[r]||(e='"'===t[r]?f:s,r++);for(var n="";r<t.length;){if(e.test(t[r])){r++;break}n+=t[r],r++}return n}function h(){o();for(var e="";r<t.length&&"<"!==t[r];)e+=t[r],r++;return e}function d(){for(;"<"===t[r];){var e=r;if(r++,o(),"/"!==t[r]){r=e;break}if(r++,u()===n[n.length-1].tag){if(n.length>1){var c=n.pop();a(c.tag,c.obj)}i(">"),r++,o()}else n.pop(),i(">"),r++,o()}}return function c(){if(!(r>=t.length)){var s=r;if(o(),"<"!==t[r])return r=s,a(e.aloneValueName,h()),d(),c();var f=i("<");if(f){s=r,r++;var p=u();if(n.push({obj:{},tag:p,start:s}),function(){for(;o(),">"!==t[r]&&"/"!==t[r];){var e=u();if(!e)break;"="===e[e.length-1]?e=e.substring(0,e.length-1):(i("="),r++),a(e,l())}}(),o(),"/"===t[r]){if(r++,n.length>1){var g=n.pop();a(g.tag,g.obj)}return i(">"),r++,d(),c()}(f=i(">"))&&(r++,o(),"<"!==t[r]&&(a(e.aloneValueName,h()),o()),d(),c())}}}(),(0,g.A)({},n[0].tag,n[0].obj)}}}]);