(self.webpackChunkAVPlayer=self.webpackChunkAVPlayer||[]).push([[809],{58469:(e,t,r)=>{"use strict";r.d(t,{Bq:()=>p,Ij:()=>d,XC:()=>f,f7:()=>l,uF:()=>i});var n=r(134),a=r(77231),s=r(37246),i=(0,n.A)((0,n.A)((0,n.A)((0,n.A)((0,n.A)((0,n.A)({},1,"Main"),2,"LC"),3,"LC"),4,"LC"),5,"HE"),6,"HE"),c={96e3:0,88200:1,64e3:2,48e3:3,44100:4,32e3:5,24e3:6,22050:7,16e3:8,12e3:9,11025:10,8e3:11,7350:12},o=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350,a.N_,a.N_,a.N_],u=[a.N_,1,2,3,4,5,6,7];function f(e,t){if(!t&&e.sideData[1]&&(t=e.sideData[1]),t){var r=function(e){var t,r,n=a.N_,s=a.N_,i=a.N_;return e.length>=2&&(n=e[0]>>3&31,s=null!==(t=o[(7&e[0])<<1|e[1]>>7])&&void 0!==t?t:48e3,i=null!==(r=u[e[1]>>3&15])&&void 0!==r?r:2),{profile:n,sampleRate:s,channels:i}}(t),n=r.profile,s=r.sampleRate,i=r.channels;e.codecpar.profile=n,e.codecpar.sampleRate=s,e.codecpar.chLayout.nbChannels=i}}function d(e){var t=c[e.sampleRate],r=e.chLayout.nbChannels,n=new Uint8Array(2);return n[0]=(31&e.profile)<<3|(14&t)>>1,n[1]=(1&t)<<7|(15&r)<<3,n}function p(e){if(e.length<7)return-1;var t=e[0]<<4|e[1]>>4;if(4095!==t)return-1;var r=1&e[1],n=(192&e[2])>>>6,a=(60&e[2])>>>2,s=(1&e[2])<<2|(192&e[3])>>>6,i=(3&e[3])<<11|e[4]<<3|(224&e[5])>>>5,c=3&e[6],f=1===r?7:9,d=i-f;return{syncWord:t,profile:n+1,sampleRate:o[a],channels:u[s],aacFrameLength:i,numberOfRawDataBlocksInFrame:c,headerLength:f,framePayloadLength:d}}function l(e,t){function r(){for(var e=t.readU(2),r=0,n=0;n<=e;n++)r<<=8,r|=t.readU(8);return r}t||(t=new s.A).appendBuffer(e);var n=t.getPointer(),a={syncWord:0,profile:0,sampleRate:0,channels:0,useSameStreamMux:!1,headerLength:0,framePayloadLength:0,muxLengthBytes:0},i=t.readU(11);if(695!==i)return-1;a.syncWord=i,a.muxLengthBytes=t.readU(13);var c=1===t.readU1();if(a.useSameStreamMux=c,!c){var f=1===t.readU1();if(f&&1===t.readU1())return-1;if(f&&r(),1!==t.readU1())return-1;if(0!==t.readU(6))return-1;if(0!==t.readU(4))return-1;if(0!==t.readU(3))return-1;var d=f?r():0,p=t.readU(5);d-=5;var l=t.readU(4);d-=4;var h=t.readU(4);if(d-=4,t.readU(3),(d-=3)>0&&t.readU(d),0!==t.readU(3))return-1;if(t.readU(8),1===t.readU1())if(f)r();else for(;;){var x=1===t.readU1();if(t.readU(8),!x)break}1===t.readU1()&&t.readU(8),a.profile=p+1,a.sampleRate=o[l],a.channels=u[h]}for(var b=0;;){var v=t.readU(8);if(b+=v,255!==v)break}return a.framePayloadLength=b,a.headerLength=t.getPointer()-n+(8===t.getBitLeft()?0:1),a}},87771:(e,t,r)=>{"use strict";r.d(t,{R:()=>l,j:()=>a});var n=r(37246),a=[3,4,3,7,259,263,1539,1543],s=[[64,69,96],[64,70,96],[80,87,120],[80,88,120],[96,104,144],[96,105,144],[112,121,168],[112,122,168],[128,139,192],[128,140,192],[160,174,240],[160,175,240],[192,208,288],[192,209,288],[224,243,336],[224,244,336],[256,278,384],[256,279,384],[320,348,480],[320,349,480],[384,417,576],[384,418,576],[448,487,672],[448,488,672],[512,557,768],[512,558,768],[640,696,960],[640,697,960],[768,835,1152],[768,836,1152],[896,975,1344],[896,976,1344],[1024,1114,1536],[1024,1115,1536],[1152,1253,1728],[1152,1254,1728],[1280,1393,1920],[1280,1394,1920]],i=[4,5,6,5],c=[4,6,7,6],o=[48e3,44100,32e3,0],u=[32,40,48,56,64,80,96,112,128,160,192,224,256,320,384,448,512,576,640],f=[2,1,2,3,3,4,4,5],d=[1,2,3,6],p=7;function l(e){var t=new n.A(size);t.appendBuffer(e);var r={syncWord:0,crc1:0,srCode:0,bitstreamId:0,bitstreamMode:0,channelMode:0,lfeOn:0,frameType:0,substreamId:0,centerMixLevel:0,surroundMixLevel:0,channelMap:0,numBlocks:0,dolbySurroundMode:0,srShift:0,sampleRate:0,bitrate:0,channels:0,frameSize:0,channelLayout:BigInt(0),ac3BitrateCode:0};if(r.syncWord=t.readU(16),2935!==r.syncWord)return-1;if(r.bitstreamId=31&t.readU(29),r.bitstreamId>16)return-2;if(r.numBlocks=6,r.ac3BitrateCode=-1,r.centerMixLevel=5,r.surroundMixLevel=6,r.dolbySurroundMode=0,r.bitstreamId<=10){if(r.crc1=t.readU(16),r.srCode=t.readU(2),3===r.srCode)return-3;var l=t.readU(6);if(l>37)return-4;r.ac3BitrateCode=l>>1,t.readU(5),r.bitstreamMode=t.readU(3),r.channelMode=t.readU(3),2==r.channelMode?r.dolbySurroundMode=t.readU(2):(1&r.channelMode&&1!=r.channelMode&&(r.centerMixLevel=i[t.readU(2)]),4&r.channelMode&&(r.surroundMixLevel=c[t.readU(2)])),r.lfeOn=t.readU(1),r.srShift=Math.max(r.bitstreamId,8)-8,r.sampleRate=o[r.srCode]>>r.srShift,r.bitrate=1e3*u[r.ac3BitrateCode]>>r.srShift,r.channels=f[r.channelMode]+r.lfeOn,r.frameSize=2*s[l][r.srCode],r.frameType=2,r.substreamId=0}else{if(r.crc1=0,r.frameType=t.readU(2),3==r.frameType)return-5;if(r.substreamId=t.readU(3),r.frameSize=t.readU(11)+1<<1,r.frameSize<p)return-6;if(r.srCode=t.readU(2),3==r.srCode){var h=t.readU(2);if(3==h)return-7;r.sampleRate=o[h]/2,r.srShift=1}else r.numBlocks=d[t.readU(2)],r.sampleRate=o[r.srCode],r.srShift=0;r.channelMode=t.readU(3),r.lfeOn=t.readU(1),r.bitrate=8*r.frameSize*r.sampleRate/(256*r.numBlocks),r.channels=f[r.channelMode]+r.lfeOn}return r.channelLayout=BigInt.asUintN(64,a[r.channelMode]),r.lfeOn&&(r.channelLayout|=BigInt(8)),r}},90412:(e,t,r)=>{"use strict";r.d(t,{Ui:()=>c,XC:()=>i,zk:()=>s}),r(42096),r(75062),r(16091),r(68632);var n=r(134),a=r(37246),s=(0,n.A)((0,n.A)((0,n.A)({},0,"Main"),1,"High"),2,"Professional");function i(e,t){if(!t&&e.sideData[1]&&(t=e.sideData[1]),t&&t.length>=4){var r=c(t);e.codecpar.profile=r.profile,e.codecpar.level=r.level}}function c(e){var t=new a.A(e.length);t.appendBuffer(e),t.readU1(),t.readU(7);var r=t.readU(3),n=t.readU(5),s=t.readU1(),i=t.readU1()?10:8;return t.readU1()&&(i=12),{profile:r,level:n,tier:s,bitDepth:i,monochrome:t.readU1(),chromaSubsamplingX:t.readU1(),chromaSubsamplingY:t.readU1(),chromaSamplePosition:t.readU(2)}}},20620:(e,t,r)=>{"use strict";r.d(t,{Jk:()=>z,KD:()=>P,MB:()=>k,S1:()=>A,XC:()=>I,ci:()=>y,oT:()=>w,tZ:()=>m,wf:()=>B}),r(42096),r(75062),r(16091),r(68632);var n=r(134),a=r(63939),s=r(50932),i=r(72739),c=r(729),o=r(31865),u=r(37246),f=r(4624),d=r(14686),p=r(71517),l=r(60264),h=r(37837),x=r(23991),b=r(39381),v="src/avformat/codecs/h264.ts",g=3,m=(0,n.A)((0,n.A)((0,n.A)((0,n.A)((0,n.A)((0,n.A)({},66,"Constrained Baseline"),77,"Main"),100,"High"),110,"High10"),122,"High422"),244,"High444");function k(e){var t=new o.A(e);t.skip(5);for(var r=[],n=[],a=[],s=31&t.readUint8(),i=0;i<s;i++){var c=t.readUint16();r.push(t.readBuffer(c))}for(var u=t.readUint8(),f=0;f<u;f++){var d=t.readUint16();n.push(t.readBuffer(d))}if(t.remainingSize()>4){t.skip(3);var p=t.readUint8();if(p>0)for(var l=0;l<p;l++){var h=t.readUint16();a.push(t.readBuffer(h))}}return{spss:r,ppss:n,spsExts:a}}function U(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];e.length>32&&(f.R8("h264 metadata's sps max length is 32, but get ".concat(e.length),v,210),e=e.slice(0,32)),e.length>256&&(f.R8("h264 metadata's pps max length is 256, but get ".concat(e.length),v,214),e=e.slice(0,256));var n=7;n=e.reduce((function(e,t){return e+2+t.length}),n),n=t.reduce((function(e,t){return e+2+t.length}),n);var a=e[0],s=B(a);66!==s.profile&&77!==s.profile&&88!==s.profile&&(n+=4,r.length&&(n=r.reduce((function(e,t){return e+2+t.length}),n)));var o=new Uint8Array(n),u=new c.A(o);return u.writeUint8(1),u.writeUint8(a[1]),u.writeUint8(a[2]),u.writeUint8(a[3]),u.writeUint8(252|g),u.writeUint8(224|31&e.length),i.__(e,(function(e){u.writeUint16(e.length),u.writeBuffer(e)})),u.writeUint8(t.length),i.__(t,(function(e){u.writeUint16(e.length),u.writeBuffer(e)})),66!==s.profile&&77!==s.profile&&88!==s.profile&&(u.writeUint8(252|s.chromaFormatIdc),u.writeUint8(248|s.bitDepthLumaMinus8),u.writeUint8(248|s.bitDepthChromaMinus8),r.length&&i.__(r,(function(e){u.writeUint16(e.length),u.writeBuffer(e)}))),o}function A(e){var t=(0,l.py)(e);if(t.length>1){var r=[],n=[],a=[];if(t.forEach((function(e){var t=31&e[0];7===t?r.push(e):8===t?n.push(e):13===t&&a.push(e)})),r.length&&n.length)return U(r,n,a)}}function w(e){var t,r=(0,l.py)(e),n=!1;if(r.length>1){var a=[],s=[],o=[];r.forEach((function(e){var t=31&e[0];7===t?a.push(e):8===t?s.push(e):13===t&&o.push(e)})),a.length&&s.length&&(t=U(a,s,o)),r=r.filter((function(e){var t=31&e[0];return 9!==t&&8!==t&&7!==t&&13!==t}))}var u=r.reduce((function(e,t){return e+g+1+t.length}),0),f=(0,h.sY)(u),p=(0,d.s3)(f,u),x=new c.A(p);return i.__(r,(function(e){3===g?x.writeUint32(e.length):2===g?x.writeUint24(e.length):1===g?x.writeUint16(e.length):x.writeUint8(e.length),x.writeBuffer(e.subarray(0)),5==(31&e[0])&&(n=!0)})),{bufferPointer:f,length:u,key:n,extradata:t}}function z(e,t){var r;if(1&a.f[15](e+36)){var n=(0,p.iI)(e);if(!(0,l.Bs)(n)){for(var s=null!==(r=t.metadata.naluLengthSizeMinusOne)&&void 0!==r?r:g,i=[],c=[],u=[],f=[],x=new o.A(n);x.remainingSize()>0;){var b;b=3===s?x.readUint32():2===s?x.readUint24():1===s?x.readUint16():x.readUint8();var v=n.subarray(Number(BigInt.asIntN(32,x.getPos())),Number(BigInt.asIntN(32,x.getPos()))+b);x.skip(b);var m=31&v[0];7===m?i.push(v):8===m?c.push(v):13===m?u.push(v):f.push(v)}if(i.length||c.length){var k=U(i,c,u),A=(0,h.sY)(k.length);(0,d.lW)(A,k.length,k),(0,p.Ow)(e,1,A,k.length)}}}}function y(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(1&a.f[15](e+36)||t){var r=(0,p.iI)(e);if((0,l.Bs)(r)){var n=(0,l.py)(r);if(n.length>1){var i=[],c=[],o=[];if(n.forEach((function(e){var t=31&e[0];7===t?i.push(e):8===t?c.push(e):13===t&&o.push(e)})),i.length&&c.length){var u=U(i,c,o),f=(0,h.sY)(u.length);(0,d.lW)(f,u.length,u),(0,p.Ow)(e,1,f,u.length),s.M[15](e+36,1|a.f[15](e+36))}}}}}function I(e,t){if(!t&&e.sideData[1]&&(t=e.sideData[1]),t&&t.length>=6){e.metadata.naluLengthSizeMinusOne=3&t[4];var r=k(t).spss;if(r.length){var n=B(r[0]),a=n.profile,s=n.level,i=n.width,c=n.height;e.codecpar.profile=a,e.codecpar.level=s,e.codecpar.width=i,e.codecpar.height=c}}}function P(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;if(2===a.f[15](e+80))return(0,l.py)((0,d.s3)(a.f[20](e+24),a.f[15](e+28))).some((function(e){return 5==(31&e[0])}));for(var r=a.f[15](e+28),n=0;n<r-t;){if(5==(31&b.r8(a.f[20](e+24)+(n+t))))return!0;n+=4===t?b.Sg(a.f[20](e+24)+n):3===t?b.ht(a.f[20](e+24)+n):2===t?b.yd(a.f[20](e+24)+n):b.r8(a.f[20](e+24)+n),n+=t}return!1}function B(e){if(e&&!(e.length<3)){var t=0;0===e[0]&&0===e[1]&&0===e[2]&&1===e[3]&&(t=4);var r=(0,l.BN)(e.subarray(t)),n=new u.A(r.length);n.appendBuffer(r),n.readU1(),n.readU(2),n.readU(5);var a=n.readU(8);n.readU1(),n.readU1(),n.readU1(),n.readU1(),n.readU1(),n.readU1(),n.readU(2);var s=n.readU(8);x.xb(n);var i=1,c=0,o=0;if((100==a||110==a||122==a||244==a||44==a||83==a||86==a||118==a||128==a||138==a||139==a||134==a||135==a)&&(3===(i=x.xb(n))&&n.readU1(),c=x.xb(n),o=x.xb(n),n.readU1(),n.readU1()))for(var f=new Array(8),d=0;d<(3!=i?8:12);d++)f[d]=n.readU1();var p=x.xb(n),h=x.xb(n),b=0,v=0;if(0===h)b=x.xb(n);else if(1===h){v=n.readU1(),x.$x(n),x.$x(n);for(var g=x.xb(n),m=0;m<g;m++)x.$x(n)}x.xb(n),n.readU1();var k=x.xb(n),U=x.xb(n),A=n.readU1(),w=16*(k+1),z=(2-A)*(U+1)*16;A||n.readU1(),n.readU1();var y=n.readU1();if(y){var I=1,P=2-y;1===i?(I=2,P=2*(2-y)):2===y&&(I=2,P=2-y),w-=I*(x.xb(n)+x.xb(n)),z-=P*(x.xb(n)+x.xb(n))}return{profile:a,level:s,width:w,height:z,chromaFormatIdc:i,bitDepthLumaMinus8:c,bitDepthChromaMinus8:o,frameMbsOnlyFlag:A,picOrderCntType:h,log2MaxPicOrderCntLsbMinus4:b,deltaPicOrderAlwaysZeroFlag:v,log2MaxFrameNumMinus4:p}}}},53e3:(e,t,r)=>{"use strict";r.d(t,{HL:()=>g,Jk:()=>A,KD:()=>y,S1:()=>k,XC:()=>z,ZU:()=>P,ci:()=>w,dT:()=>b,oT:()=>U,wf:()=>I}),r(42096),r(75062),r(16091),r(68632);var n=r(134),a=r(63939),s=r(50932),i=r(72739),c=r(729),o=r(31865),u=r(37246),f=r(14686),d=r(60264),p=r(71517),l=r(37837),h=r(23991),x=r(39381),b=(0,n.A)((0,n.A)((0,n.A)((0,n.A)({},1,"Main"),2,"Main10"),3,"MainStillPicture"),4,"Main444"),v=3;function g(e){var t=new o.A(e,!0);t.skip(22);for(var r=[],n=[],a=[],s=t.readUint8(),i=0;i<s;i++){for(var c=63&t.readUint8(),u=t.readUint16(),f=[],d=0;d<u;d++){var p=t.readUint16();f.push(t.readBuffer(p))}32===c?r=f:33===c?n=f:34===c&&(a=f)}return{vpss:r,spss:n,ppss:a}}function m(e,t,r){var n=t[0],a=23;e.length&&(a+=3,a=e.reduce((function(e,t){return e+2+t.length}),a)),t.length&&(a+=3,a=t.reduce((function(e,t){return e+2+t.length}),a)),r.length&&(a+=3,a=r.reduce((function(e,t){return e+2+t.length}),a));var s=new Uint8Array(a),o=new c.A(s,!0),u=I(n);o.writeUint8(1),o.writeUint8(n[1]),o.writeUint8(n[2]),o.writeUint8(n[3]),o.writeUint8(n[4]),o.writeUint8(n[5]),o.writeUint8(n[6]),o.writeUint8(n[7]),o.writeUint8(n[8]),o.writeUint8(n[9]),o.writeUint8(n[10]),o.writeUint8(n[11]),o.writeUint8(u.level),o.writeUint8(1020),o.writeUint8(0),o.writeUint8(16320),o.writeUint8(16320|u.chroma_format_idc),o.writeUint8(8160|u.bit_depth_luma_minus8),o.writeUint8(8160|u.bit_depth_chroma_minus8),o.writeUint16(0),o.writeUint8(8|(1&n[0])<<2|v);var f=0;return e.length&&f++,t.length&&f++,r.length&&f++,o.writeUint8(f),e.length&&(o.writeUint8(160),o.writeUint16(e.length),i.__(e,(function(e){o.writeUint16(e.length),o.writeBuffer(e)}))),t.length&&(o.writeUint8(161),o.writeUint16(t.length),i.__(t,(function(e){o.writeUint16(e.length),o.writeBuffer(e)}))),r.length&&(o.writeUint8(162),o.writeUint16(r.length),i.__(r,(function(e){o.writeUint16(e.length),o.writeBuffer(e)}))),s}function k(e){var t=(0,d.py)(e);if(t.length>=2){var r=[],n=[],a=[];if(t.forEach((function(e){var t=e[0]>>>1&63;32===t?r.push(e):33===t?n.push(e):34===t&&a.push(e)})),n.length&&a.length)return m(r,n,a)}}function U(e){var t,r=!1,n=(0,d.py)(e);if(n.length>=2){var a=[],s=[],o=[];n.forEach((function(e){var t=e[0]>>>1&63;32===t?a.push(e):33===t?s.push(e):34===t&&o.push(e)})),s.length&&o.length&&(t=m(a,s,o),n=n.filter((function(e){var t=e[0]>>>1&63;return 32!==t&&33!==t&&34!==t&&35!==t})))}var u=n.reduce((function(e,t){return e+v+1+t.length}),0),p=(0,l.sY)(u),h=(0,f.s3)(p,u),x=new c.A(h);return i.__(n,(function(e){3===v?x.writeUint32(e.length):2===v?x.writeUint24(e.length):1===v?x.writeUint16(e.length):x.writeUint8(e.length),x.writeBuffer(e.subarray(0));var t=e[0]>>>1&63;19!==t&&20!==t&&21!==t||(r=!0)})),{bufferPointer:p,length:u,extradata:t,key:r}}function A(e,t){var r;if(1&a.f[15](e+36)){var n=(0,p.iI)(e);if(!(0,d.Bs)(n)){for(var s=null!==(r=t.metadata.naluLengthSizeMinusOne)&&void 0!==r?r:v,i=[],c=[],u=[],h=new o.A(n);h.remainingSize()>0;){var x;x=3===s?h.readUint32():2===s?h.readUint24():1===s?h.readUint16():h.readUint8();var b=n.subarray(Number(BigInt.asIntN(32,h.getPos())),Number(BigInt.asIntN(32,h.getPos()))+x);h.skip(x);var g=b[0]>>>1&63;33===g?c.push(b):34===g?u.push(b):32===g&&i.push(b)}if(c.length||u.length||i.length){var k=m(i,c,u),U=(0,l.sY)(k.length);(0,f.lW)(U,k.length,k),(0,p.Ow)(e,1,U,k.length)}}}}function w(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(1&a.f[15](e+36)||t){var r=(0,p.iI)(e);if((0,d.Bs)(r)){var n=(0,d.py)(r);if(n.length>2){var i=[],c=[],o=[];if(n.forEach((function(e){var t=e[0]>>>1&63;32===t?i.push(e):33===t?c.push(e):34===t&&o.push(e)})),i.length&&c.length&&o.length){var u=m(i,c,o),h=(0,l.sY)(u.length);(0,f.lW)(h,u.length,u),(0,p.Ow)(e,1,h,u.length),s.M[15](e+36,1|a.f[15](e+36))}}}}}function z(e,t){if(!t&&e.sideData[1]&&(t=e.sideData[1]),t&&t.length>=6){e.metadata.naluLengthSizeMinusOne=3&t[21];var r=g(t).spss;if(r.length){var n=I(r[0]),a=n.profile,s=n.level,i=n.width,c=n.height;e.codecpar.profile=a,e.codecpar.level=s,e.codecpar.width=i,e.codecpar.height=c}}}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;if(2===a.f[15](e+80))return(0,d.py)((0,f.s3)(a.f[20](e+24),a.f[15](e+28))).some((function(e){var t=e[0]>>>1&63;return 20===t||19===t}));for(var r=a.f[15](e+28),n=0;n<r-t;){var s=x.r8(a.f[20](e+24)+(n+t))>>>1&63;if(20===s||19===s)return!0;n+=4===t?x.Sg(a.f[20](e+24)+n):3===t?x.ht(a.f[20](e+24)+n):2===t?x.yd(a.f[20](e+24)+n):x.r8(a.f[20](e+24)+n),n+=t}return!1}function I(e){if(e&&!(e.length<3)){var t=0;0===e[0]&&0===e[1]&&0===e[2]&&1===e[3]&&(t=4);var r=0,n=0,a=0,s=0,i=0,c=0,o=1,f=0,p=0,l=0,x=0,b=(0,d.BN)(e.subarray(t)),v=new u.A(b.length);v.appendBuffer(b),v.readU1(),v.readU(6),v.readU(6),v.readU(3),v.readU(4);var g=v.readU(3);v.readU1();var m=0;if(g<=6){f=v.readU(2),p=v.readU1(),r=v.readU(5),l=v.readU(32),x=v.readU(48),n=v.readU(8);for(var k=new Array(6),U=new Array(6),A=0;A<g;A++)k[A]=v.readU1(),U[A]=v.readU1();if(g>0)for(var w=g;w<8;w++)v.readU(2);for(var z=0;z<g;z++)k[z]&&(v.readU(2),v.readU(1),v.readU(5),v.readU(32),v.readU(1),v.readU(1),v.readU(1),v.readU(1),v.readU(44)),U[z]&&v.readU(8);h.xb(v),3===(o=h.xb(v))&&(m=v.readU(1)),a=h.xb(v),s=h.xb(v);var y=0,I=0,P=0,B=0;v.readU1()&&(y=h.xb(v),I=h.xb(v),P=h.xb(v),B=h.xb(v)),i=h.xb(v),c=h.xb(v);var M=2,S=2;0===o?M=S=0:2===o?(M=2,S=1):3===o&&(M=S=1),a-=M*(1<<i+1)*(y+I),s-=S*(1<<i+1)*(P+B)}for(var _=h.xb(v)+4,D=v.readU1()?0:g;D<g+1;D++)h.xb(v),h.xb(v),h.xb(v);var N=h.xb(v)+3,C=h.xb(v),R=h.xb(v)+2,L=h.xb(v),F=N+C,E=N-1,O=a+(1<<F)-1>>F,T=s+(1<<F)-1>>F;return{profile:r,level:n,width:a,height:s,chroma_format_idc:o,bit_depth_luma_minus8:i,bit_depth_chroma_minus8:c,general_profile_space:f,general_tier_flag:p,general_profile_compatibility_flags:l,constraint_flags:x,separate_colour_plane_flag:m,log2_min_cb_size:N,log2_diff_max_min_coding_block_size:C,log2_min_tb_size:R,log2_diff_max_min_transform_block_size:L,log2_max_trafo_size:L+R,log2_ctb_size:F,log2_min_pu_size:E,ctb_width:O,ctb_height:T,ctb_size:O*T,min_cb_width:a>>N,min_cb_height:s>>N,min_tb_width:a>>R,min_tb_height:s>>R,min_pu_width:a>>E,min_pu_height:s>>E,log2_max_poc_lsb:_}}}function P(e){if(e&&!(e.length<3)){var t=0;0===e[0]&&0===e[1]&&0===e[2]&&1===e[3]&&(t=4);var r=(0,d.BN)(e.subarray(t)),n=new u.A(r.length);return n.appendBuffer(r),{pps_pic_parameter_set_id:h.xb(n),pps_seq_parameter_set_id:h.xb(n),dependent_slice_segment_flag:n.readU1(),output_flag_present_flag:n.readU1(),num_extra_slice_header_bits:n.readU(3)}}}},65451:(e,t,r)=>{"use strict";r.d(t,{Ij:()=>u,XC:()=>o,kt:()=>c});var n=r(31865),a=r(729),s=r(44328),i=[480,960,1920,2880,480,960,1920,2880,480,960,1920,2880,480,960,480,960,120,240,480,960,120,240,480,960,120,240,480,960,120,240,480,960];function c(e){var t,r,n=0;if(e.length<1)return 0;switch(t=e[0],r=i[t>>3],3&t){case 0:n=1;break;case 1:case 2:n=2;break;case 3:if(e.length<2)return 0;n=63&e[1]}return n*r}function o(e,t){if(!t&&e.sideData[1]&&(t=e.sideData[1]),t&&t.length>=19){var r=new n.A(t,!1);r.skip(9),e.codecpar.chLayout.nbChannels=r.readUint8(),e.codecpar.initialPadding=r.readUint16(),e.codecpar.sampleRate=r.readUint32(),e.codecpar.seekPreroll=Number((0,s.k)(BigInt(80),{den:1e3,num:1},{den:48e3,num:1}))}}function u(e){var t=new Uint8Array(19),r=new a.A(t,!1);return r.writeString("OpusHead"),r.writeUint8(1),r.writeUint8(e.chLayout.nbChannels),r.writeUint16(e.initialPadding),r.writeUint32(e.sampleRate),t}},58919:(e,t,r)=>{"use strict";r.d(t,{Ui:()=>c,XC:()=>i,wN:()=>s}),r(42096),r(75062),r(16091),r(68632);var n=r(134),a=r(37246),s=(0,n.A)((0,n.A)((0,n.A)((0,n.A)({},0,"Profile0"),1,"Profile1"),2,"Profile2"),3,"Profile3");function i(e,t){if(!t&&e.sideData[1]&&(t=e.sideData[1]),t&&t.length>=6){var r=c(t);e.codecpar.profile=r.profile,e.codecpar.level=r.level}}function c(e){var t=new a.A(e.length);return t.appendBuffer(e),{profile:t.readU(8),level:t.readU(8),bitDepth:t.readU(4),chromaSubsampling:t.readU(3),fullRangeFlag:t.readU1(),colorPrimaries:t.readU(8),colorTrc:t.readU(8),colorSpace:t.readU(8)}}},55611:(e,t,r)=>{"use strict";r.d(t,{Jk:()=>k,KD:()=>z,QA:()=>A,Ui:()=>I,XC:()=>w,ci:()=>U,oT:()=>m,wf:()=>y});var n=r(63939),a=r(50932),s=r(72739),i=r(729),c=r(31865),o=r(37246),u=r(14686),f=r(60264),d=r(71517),p=r(37837),l=r(23991),h=r(83314),x=r(39381),b=3;function v(e){var t=e.readU(9),r=e.readU(3),n=e.readU(2),a=e.readU(2),s=e.readU(3);e.readU(5),e.readU(2);var i=e.readU(6),c=e.readU(7),o=e.readU(1),u=e.readU(8),f=e.readU(1),d=e.readU(1),p=[],l=[];if(i){for(var h=0;h<i-1;h++)p[h]=e.readU(8);p[i-1]=e.readU(6)}else e.readU(6);if(r>1){for(var x=0,b=r-2;b>=0;--b)x|=e.readU(1)<<b;for(var v=r;v<=8&&r>1;++v)e.readU(1);for(var g=r-2;g>=0;--g)x&1<<g&&(l[g]=e.readU(8))}var m=e.readU(8),k=[];if(m)for(var U=0;U<m;U++)k.push(e.readU(8));return{olsIdx:t,numSublayers:r,bitDepthMinus8:s,chromaFormatIdc:a,constantFrameRate:n,generalProfileIdc:c,generalTierFlag:o,generalLevelIdc:u,ptlFrameOnlyConstraintFlag:f,ptlMultilayerEnabledFlag:d,generalConstraintInfo:p,sublayerLevelIdc:l,generalSubProfileIdc:k,maxPictureWidth:e.readU(16),maxPictureHeight:e.readU(16),avgFramerate:e.readU(16)}}function g(e,t,r){var n,a=t[0];if(a){var c=y(a),o=c.generalConstraintInfo;o.length||(o=new Array(12).fill(0));var u=new h.A;if(u.writeU(9,0),u.writeU(3,c.spsMaxSublayersMinus1+1),u.writeU(2,1),u.writeU(2,c.chromaFormatIdc),u.writeU(3,c.bitDepthMinus8),u.writeU(5,31),u.writeU(2,0),u.writeU(6,o.length),u.writeU(7,c.profile),u.writeU1(c.tierFlag),u.writeU(8,c.level),u.writeU1(c.ptlFrameOnlyConstraintFlag),u.writeU1(c.ptlMultilayerEnabledFlag),o.length){for(var f=0;f<o.length-1;f++)u.writeU(8,o[f]);u.writeU(6,o[o.length-1])}else u.writeU(6,63);if(c.spsMaxSublayersMinus1+1>1){for(var d=0,p=c.spsMaxSublayersMinus1-1;p>=0;p--)d=d<<1|c.ptlSublayerLevelPresentFlag[p];u.writeU(c.spsMaxSublayersMinus1,d);for(var l=c.spsMaxSublayersMinus1+1;l<=8&&c.spsMaxSublayersMinus1>0;++l)u.writeU1(0);for(var x=c.spsMaxSublayersMinus1-1;x>=0;x--)c.ptlSublayerLevelPresentFlag[x]&&u.writeU(8,c.sublayerLevelIdc[x])}u.writeU(8,c.generalSubProfileIdc.length);for(var v=0;v<c.generalSubProfileIdc.length;v++)u.writeU(8,c.sublayerLevelIdc[v]);u.writeU(16,c.width),u.writeU(16,c.height),u.writeU(16,0),u.padding(),n=u.getBuffer().subarray(0,u.getPointer())}var g=2+(n?n.length:0);e.length&&(g+=3,g=e.reduce((function(e,t){return e+2+t.length}),g)),t.length&&(g+=3,g=t.reduce((function(e,t){return e+2+t.length}),g)),r.length&&(g+=3,g=r.reduce((function(e,t){return e+2+t.length}),g));var m=new Uint8Array(g),k=new i.A(m,!0);k.writeUint8(b<<1|(n?1:0)|248),n&&k.writeBuffer(n);var U=0;return e.length&&U++,t.length&&U++,r.length&&U++,k.writeUint8(U),e.length&&(k.writeUint8(142),k.writeUint16(e.length),s.__(e,(function(e){k.writeUint16(e.length),k.writeBuffer(e)}))),t.length&&(k.writeUint8(143),k.writeUint16(t.length),s.__(t,(function(e){k.writeUint16(e.length),k.writeBuffer(e)}))),r.length&&(k.writeUint8(144),k.writeUint16(r.length),s.__(r,(function(e){k.writeUint16(e.length),k.writeBuffer(e)}))),m}function m(e){var t,r=!1,n=(0,f.py)(e);if(n.length>=2){var a=[],c=[],o=[];n.forEach((function(e){var t=e[1]>>>3&31;14===t?a.push(e):15===t?c.push(e):16===t&&o.push(e)})),c.length&&o.length&&(t=g(a,c,o),n=n.filter((function(e){var t=e[1]>>>3&31;return 14!==t&&15!==t&&16!==t&&20!==t})))}var d=n.reduce((function(e,t){return e+b+1+t.length}),0),l=(0,p.sY)(d),h=(0,u.s3)(l,d),x=new i.A(h);return s.__(n,(function(e){3===b?x.writeUint32(e.length):2===b?x.writeUint24(e.length):1===b?x.writeUint16(e.length):x.writeUint8(e.length),x.writeBuffer(e.subarray(0));var t=e[1]>>>3&31;8!==t&&7!==t&&9!==t&&10!==t||(r=!0)})),{bufferPointer:l,length:d,extradata:t,key:r}}function k(e,t){var r;if(1&n.f[15](e+36)){var a=(0,d.iI)(e);if(!(0,f.Bs)(a)){for(var s=null!==(r=t.metadata.naluLengthSizeMinusOne)&&void 0!==r?r:b,i=[],o=[],l=[],h=new c.A(a);h.remainingSize()>0;){var x;x=3===s?h.readUint32():2===s?h.readUint24():1===s?h.readUint16():h.readUint8();var v=a.subarray(Number(BigInt.asIntN(32,h.getPos())),Number(BigInt.asIntN(32,h.getPos()))+x);h.skip(x);var m=v[1]>>>3&31;15===m?o.push(v):16===m?l.push(v):14===m&&i.push(v)}if(o.length||l.length||i.length){var k=g(i,o,l),U=(0,p.sY)(k.length);(0,u.lW)(U,k.length,k),(0,d.Ow)(e,1,U,k.length)}}}}function U(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(1&n.f[15](e+36)||t){var r=(0,d.iI)(e);if((0,f.Bs)(r)){var s=(0,f.py)(r);if(s.length>2){var i=[],c=[],o=[];if(s.forEach((function(e){var t=e[1]>>>3&31;14===t?i.push(e):15===t?c.push(e):16===t&&o.push(e)})),i.length&&c.length&&o.length){var l=g(i,c,o),h=(0,p.sY)(l.length);(0,u.lW)(h,l.length,l),(0,d.Ow)(e,1,h,l.length),a.M[15](e+36,1|n.f[15](e+36))}}}}}function A(e,t){var r=y(t),n=r.profile,a=r.level,s=r.width,i=r.height;e.codecpar.profile=n,e.codecpar.level=a,e.codecpar.width=s,e.codecpar.height=i}function w(e,t){if(!t&&e.sideData[1]&&(t=e.sideData[1]),t&&t.length>=6){e.metadata.naluLengthSizeMinusOne=t[0]>>>1&3;var r=function(e){var t=new c.A(e,!0);if(1&t.readUint8()){var r=new o.A;r.appendBuffer(e.subarray(1)),v(r),t.skip(r.getPointer())}for(var n=[],a=[],s=[],i=t.readUint8(),u=0;u<i;u++){var f=31&t.readUint8(),d=1;13!==f&&12!==f&&(d=t.readUint16());for(var p=[],l=0;l<d;l++){var h=t.readUint16();p.push(t.readBuffer(h))}14===f?n=p:15===f?a=p:16===f&&(s=p)}return{vpss:n,spss:a,ppss:s}}(t).spss;r.length&&A(e,r[0])}}function z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;if(2===n.f[15](e+80))return(0,f.py)((0,u.s3)(n.f[20](e+24),n.f[15](e+28))).some((function(e){var t=e[1]>>>3&31;return 8===t||7===t}));for(var r=n.f[15](e+28),a=0;a<r-t;){var s=x.r8(n.f[20](e+24)+(a+t+1))>>>3&31;if(8===s||7===s)return!0;a+=4===t?x.Sg(n.f[20](e+24)+a):3===t?x.ht(n.f[20](e+24)+a):2===t?x.yd(n.f[20](e+24)+a):x.r8(n.f[20](e+24)+a),a+=t}return!1}function y(e){if(e&&!(e.length<3)){var t=0;0===e[0]&&0===e[1]&&0===e[2]&&1===e[3]&&(t=4);var r,n,a,s,i=0,c=0,u=0,d=0,p=0,h=[],x=[],b=[],v=[],g=(0,f.BN)(e.subarray(t)),m=new o.A(g.length);m.appendBuffer(g),m.readU1(),m.readU1(),m.readU(6),m.readU(5),m.readU(3),m.readU(8);var k=m.readU(3);s=m.readU(2);var U=m.readU(2);if(m.readU(1)){if(i=m.readU(7),u=m.readU(1),c=m.readU(8),d=m.readU(1),p=m.readU(1),m.readU(1)){for(var A=0;A<8;A++)h[A]=m.readU(8);h[8]=m.readU(7);var w=m.readU(8);m.readU(w)}m.skipPadding();for(var z=k-1;z>=0;z--)x[z]=m.readU(1);m.skipPadding();for(var y=k-1;y>=0;y--)x[y]&&(b[y]=m.readU(8));var I=m.readU(8);if(I)for(var P=0;P<I;P++)v[P]=m.readU(32)}m.readU1(),m.readU1()&&m.readU1();var B=r=l.xb(m),M=n=l.xb(m);if(m.readU1()&&(l.xb(m),l.xb(m),l.xb(m),l.xb(m)),m.readU1()){var S,_=l.xb(m),D=U+5,N=1<<D,C=B/(1<<D),R=M/(1<<D),L=Math.ceil(Math.log2(C)),F=Math.ceil(Math.log2(R)),E=0,O=0;_>0&&(O=m.readU1(),E=m.readU1());for(var T=0;_>0&&T<=_;T++)E&&0!=T||(T>0&&B>N&&m.readU(L),T>0&&M>N&&m.readU(F),T<_&&B>N&&m.readU(L),T<_&&M>N&&m.readU(F)),O||m.readU(2);if(S=l.xb(m)+1,m.readU(1)&&m.readU(1))for(var W=0;W<=_;W++)m.readU(S)}a=l.xb(m),m.readU(1),m.readU(1);var Y=m.readU(4),X=m.readU(1),J=0;X&&(J=l.xb(m));for(var H=[],V=m.readU(2),j=0;j<8*V;j++)H[j]=m.readU(1);return{profile:i,level:c,width:r,height:n,chromaFormatIdc:s,bitDepthMinus8:a,generalProfileSpace:0,tierFlag:u,generalConstraintInfo:h,generalSubProfileIdc:v,ptlFrameOnlyConstraintFlag:d,ptlMultilayerEnabledFlag:p,spsMaxSublayersMinus1:k,ptlSublayerLevelPresentFlag:x,sublayerLevelIdc:b,sps_log2_max_pic_order_cnt_lsb_minus4:Y,sps_poc_msb_cycle_flag:X,sps_poc_msb_cycle_len_minus1:J,sps_num_extra_ph_bytes:V,sps_extra_ph_bit_present_flag:H}}}function I(e){0===e[0]&&0===e[1]&&0===e[2]&&1===e[3]&&(e=function(e){var t=(0,f.py)(e);if(t.length>=2){var r=[],n=[],a=[];if(t.forEach((function(e){var t=e[1]>>>3&31;14===t?r.push(e):15===t?n.push(e):16===t&&a.push(e)})),n.length&&a.length)return g(r,n,a)}}(e));var t=new o.A;return t.appendBuffer(e),1&t.readU(8)?v(t):{}}},85947:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(78716),a=r(81570),s=r(134),i=function(){function e(){(0,n.A)(this,e),(0,s.A)(this,"type",-1),(0,s.A)(this,"onStreamAdd",void 0)}return(0,a.A)(e,[{key:"destroy",value:function(e){}}]),e}()},92047:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>C});var n=r(88435),a=r.n(n),s=r(25182),i=r(78716),c=r(81570),o=r(77193),u=r(25767),f=r(43070),d=r(31060),p=r(134),l=r(36443),h=r.n(l),x=r(63939),b=r(50932),v=r(4624),g=r(9705),m=r(65977),k=r(74963),U=r(85947),A=r(85428),w=r(9690),z=r(72739),y=r(14686),I=r(37837),P=r(71517),B=r(44328),M=r(77231),S=r(39381);function _(e,t,r){return t=(0,u.A)(t),(0,o.A)(e,D()?a()(t,r||[],(0,u.A)(e).constructor):t.apply(e,r))}function D(){try{var e=!Boolean.prototype.valueOf.call(a()(Boolean,[],(function(){})))}catch(e){}return(D=function(){return!!e})()}var N="src/avformat/formats/IMovFormat.ts",C=function(e){function t(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.A)(this,t),e=_(this,t),(0,p.A)((0,f.A)(e),"type",1),(0,p.A)((0,f.A)(e),"context",void 0),(0,p.A)((0,f.A)(e),"options",void 0),e.options=r,e.context=(0,w.A)(),e}var r,n,a,o;return(0,d.A)(t,e),(0,c.A)(t,[{key:"init",value:function(e){e.ioReader&&e.ioReader.setEndian(!0)}},{key:"readHeader",value:(o=(0,s.A)(h().mark((function e(t){var r,n,a,s,i,c,o,u,f,d,p,l;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.ioReader.fileSize();case 3:return r=e.sent,n=0,e.next=7,t.ioReader.readUint32();case 7:return a=e.sent,e.next=10,t.ioReader.readUint32();case 10:if((s=e.sent)!==(0,m.A)("ftyp")){e.next=16;break}return e.next=14,k.E6(t.ioReader,this.context,{type:s,size:a-8});case 14:e.next=19;break;case 16:if(r&&!(a<r)){e.next=19;break}return e.next=19,t.ioReader.skip(a-8);case 19:i=BigInt(0);case 20:if(this.context.foundMoov){e.next=51;break}if((c=t.ioReader.getPos())!==r){e.next=25;break}return v.z3("the file format is not mp4",N,100),e.abrupt("return",g.LR);case 25:return e.next=27,t.ioReader.readUint32();case 27:return a=e.sent,e.next=30,t.ioReader.readUint32();case 30:if(s=e.sent,!(a<8||r&&c+BigInt(Math.floor(a))>r)){e.next=34;break}return v.z3("invalid box size ".concat(a),N,108),e.abrupt("return",g.LR);case 34:if(s!==(0,m.A)("mdat")){e.next=41;break}return this.context.foundMdat||(i=c),this.context.foundMdat=!0,e.next=39,t.ioReader.seek(c+BigInt(Math.floor(a)));case 39:e.next=49;break;case 41:if(s!==(0,m.A)("moov")){e.next=47;break}return e.next=44,k.wB(t.ioReader,t,this.context,{size:a-8,type:s});case 44:this.context.foundMoov=!0,e.next=49;break;case 47:return e.next=49,t.ioReader.seek(c+BigInt(Math.floor(a)));case 49:e.next=20;break;case 51:if(this.context.fragment||this.context.foundMdat){e.next=58;break}return e.next=54,t.ioReader.peekUint64();case 54:e.t0=e.sent,e.t1=BigInt(32),o=e.t0>>e.t1,Number(o)===(0,m.A)("moof")&&(this.context.fragment=!0);case 58:if(!(this.context.fragment&&1&t.ioReader.flags)){e.next=88;break}return u=t.ioReader.getPos(),e.next=62,t.ioReader.fileSize();case 62:if(!((f=e.sent)>BigInt(16))){e.next=88;break}return e.next=66,t.ioReader.seek(f-BigInt(12));case 66:return e.next=68,t.ioReader.readUint32();case 68:if((d=e.sent)!==(0,m.A)("mfro")){e.next=86;break}return e.next=72,t.ioReader.skip(4);case 72:return e.next=74,t.ioReader.readUint32();case 74:return p=e.sent,e.next=77,t.ioReader.seek(f-BigInt(Math.floor(p)));case 77:return e.next=79,t.ioReader.readUint32();case 79:return l=e.sent,e.next=82,t.ioReader.readUint32();case 82:if((d=e.sent)!==(0,m.A)("mfra")){e.next=86;break}return e.next=86,k.t9(t.ioReader,t,this.context,{size:l-8,type:d});case 86:return e.next=88,t.ioReader.seek(u);case 88:if(this.context.fragment||!this.context.foundMdat){e.next=91;break}return e.next=91,t.ioReader.seek(i);case 91:return e.abrupt("return",n);case 94:return e.prev=94,e.t2=e.catch(0),v.z3(e.t2.message,N,170),this.context.foundMoov||v.z3("moov not found",N,173),e.abrupt("return",t.ioReader.error);case 99:case"end":return e.stop()}}),e,this,[[0,94]])}))),function(e){return o.apply(this,arguments)})},{key:"readAVPacket_",value:(a=(0,s.A)(h().mark((function e(t,r){var n,a,s,i,c,o,u,f,d,p,l,v,g,k;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(0,A.G)(t,this.context),a=n.sample,s=n.stream,!a){e.next=42;break}return b.M[15](r+32,s.index),b.M[17](r+16,a.dts),b.M[17](r+8,a.pts),b.M[17](r+48,BigInt(Math.floor(a.duration))),b.M[15](r+36,x.f[15](r+36)|a.flags),b.M[17](r+56,a.pos),b.M[15](r+76,s.timeBase.den),b.M[15](r+72,s.timeBase.num),s.startTime===M.Dh&&(s.startTime=x.f[17](r+8)||x.f[17](r+16)),e.next=13,t.ioReader.seek(x.f[17](r+56));case 13:return i=a.size,c=(0,I.sY)(i),(0,P.NX)(r,c,i),e.next=18,t.ioReader.readBuffer(i,(0,y.JW)(c,i));case 18:if(27!==s.codecpar.codecId&&173!==s.codecpar.codecId&&196!==s.codecpar.codecId||b.M[15](r+80,1),!(94226===s.codecpar.codecId&&x.f[15](r+28)>=8)){e.next=39;break}if(o=S.Sg(x.f[20](r+24)+4)>>>0,u=x.f[15](r+28),o===(0,m.A)("vtte")&&8===u&&(f=(0,I.Gy)(1),(0,P.NX)(r,f,1),b.M[15](r+28,1)),!(u>8)||o!==(0,m.A)("vtte")&&o!==(0,m.A)("vttc")){e.next=39;break}d=x.f[20](r+24)+8,p=x.f[20](r+24)+u;case 26:if(!(d<p)){e.next=39;break}if(l=S.Sg(d),!(S.Sg(d+4)>>>0===(0,m.A)("payl")&&l>8)){e.next=36;break}return v=(0,I.sY)(l-8),(0,y.Mr)(v,d+8,l-8),(0,P.NX)(r,v,l-8),e.abrupt("break",39);case 36:d+=l;case 37:e.next=26;break;case 39:s.sideData[1]&&(g=s.sideData[1].length,k=(0,I.sY)(g),(0,P.Ow)(r,1,k,g),(0,y.lW)(k,g,s.sideData[1]),delete s.sideData[1]),e.next=43;break;case 42:return e.abrupt("return",-1048576);case 43:return e.abrupt("return",0);case 44:case"end":return e.stop()}}),e,this)}))),function(e,t){return a.apply(this,arguments)})},{key:"readAVPacket",value:(n=(0,s.A)(h().mark((function e(t,r){var n,a,s;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!this.context.fragment||this.context.currentFragment){e.next=26;break}case 2:if(this.context.currentFragment){e.next=26;break}return n=t.ioReader.getPos(),e.next=6,t.ioReader.readUint32();case 6:return a=e.sent,e.next=9,t.ioReader.readUint32();case 9:if((s=e.sent)!==(0,m.A)("moof")){e.next=17;break}return this.context.currentFragment={pos:n,size:a,sequence:0,tracks:[],currentTrack:null},this.context.firstMoof||(this.context.firstMoof=n),e.next=15,k.wZ(t.ioReader,t,this.context,{type:s,size:a-8});case 15:e.next=24;break;case 17:if(s!==(0,m.A)("moov")){e.next=22;break}return e.next=20,k.wB(t.ioReader,t,this.context,{size:a-8,type:s});case 20:e.next=24;break;case 22:return e.next=24,t.ioReader.skip(a-8);case 24:e.next=2;break;case 26:return e.next=28,this.readAVPacket_(t,r);case 28:return e.abrupt("return",e.sent);case 31:if(e.prev=31,e.t0=e.catch(0),-1048576===t.ioReader.error){e.next=36;break}return v.z3("read packet error, ".concat(e.t0),N,306),e.abrupt("return",g.LR);case 36:return e.abrupt("return",t.ioReader.error);case 37:case"end":return e.stop()}}),e,this,[[0,31]])}))),function(e,t){return n.apply(this,arguments)})},{key:"seek",value:(r=(0,s.A)(h().mark((function e(t,r,n,a){var s,i,c,o,u,f,d,p=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=n,i=r.privData,c=function(){p.context.currentFragment=null,t.streams.forEach((function(e){e.privData.samplesIndex.length=0}))},!(16&a&&this.context.fragment)){e.next=9;break}return o=(0,B.k)(n,r.timeBase,M.i0),e.next=7,t.ioReader.seek(o,!0);case 7:return c(),e.abrupt("return",BigInt(0));case 9:if(!this.context.fragment){e.next=23;break}if(!i.fragIndexes.length){e.next=17;break}if(!((u=z.El(i.fragIndexes,(function(e){return e.time>s?-1:e.time===s?0:1})))>-1)){e.next=17;break}return e.next=15,t.ioReader.seek(i.fragIndexes[u].pos,!0);case 15:return c(),e.abrupt("return",BigInt(0));case 17:if(s!==BigInt(0)||!this.context.firstMoof){e.next=22;break}return e.next=20,t.ioReader.seek(this.context.firstMoof);case 20:return c(),e.abrupt("return",BigInt(0));case 22:return e.abrupt("return",BigInt(g.E$));case 23:if(!((f=z.El(i.samplesIndex,(function(e){return e.pts>s?-1:e.pts===s?0:1})))>-1&&0===r.codecpar.codecType)){e.next=34;break}d=f;case 26:if(!(d>=0)){e.next=33;break}if(!(1&i.samplesIndex[d].flags)){e.next=30;break}return f=d,e.abrupt("break",33);case 30:d--,e.next=26;break;case 33:d<0&&(f=-1);case 34:if(!(f>-1)){e.next=39;break}return i.currentSample=f,i.sampleEnd=!1,z.__(t.streams,(function(e){if(e!==r){var t=e.privData,n=!1,a=(0,B.k)(i.samplesIndex[i.currentSample].pts,r.timeBase,e.timeBase);z.__(t.samplesIndex,(function(e,r){if(e.pts>=a)return t.currentSample=r,n=!0,!1})),n?t.sampleEnd=!1:(t.sampleEnd=!0,t.currentSample=t.samplesIndex.length)}})),e.abrupt("return",BigInt(0));case 39:return e.abrupt("return",BigInt(g.LR));case 40:case"end":return e.stop()}}),e,this)}))),function(e,t,n,a){return r.apply(this,arguments)})},{key:"getAnalyzeStreamsCount",value:function(){return 0}}]),t}(U.A)},21071:(e,t,r)=>{"use strict";r.d(t,{_l:()=>n,gQ:()=>a});var n=["hmhd","nmhd","iods","xml ","url ","bxml","ipro","mere","stts","ctts","stss","stsz","stz2","stsc","stco","co64","stsd","dref","mvhd","tkhd","mdhd","hdlr"],a=["moov","trak","edts","mdia","minf","dinf","stbl","mvex","moof","traf","vttc","tref","iref","mfra","hnti","hinf","strd","sinf","rinf","schi","trgr","udta","iprp","ipco","strk","meco"]},61179:(e,t,r)=>{"use strict";function n(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=e.privData,s=r.trexs.find((function(e){return e.trackId===t.trackId})),i=t.baseDataOffset+BigInt(Math.floor(t.dataOffset));t.baseIsMoof&&(i+=r.currentFragment.pos);var c=t.baseMediaDecodeTime,o=t.sampleSizes,u=t.sampleDurations,f=t.sampleFlags,d=t.sampleCompositionTimeOffset;if(!o.length)for(var p=0;p<t.sampleCount;p++)o.push(t.defaultSampleSize||s.size);if(!u.length)for(var l=0;l<t.sampleCount;l++)u.push(t.defaultSampleDuration||s.duration);if(!f.length)for(var h=0;h<t.sampleCount;h++)f.push(t.defaultSampleFlags||s.flags);if(!d.length)for(var x=0;x<t.sampleCount;x++)d.push(0);for(var b=[],v=0;v<t.sampleCount;v++){var g={dts:c,pts:c+BigInt(Math.floor(d[v])),pos:i,size:o[v],duration:u[v],flags:0};c+=BigInt(Math.floor(g.duration)),i+=BigInt(Math.floor(g.size));var m=f[v];0===v&&t.firstSampleFlags&&(m=t.firstSampleFlags),16842752&m||(g.flags|=1),0===v&&o.length>1&&2&n&&(g.flags|=1),b.push(g)}a.samplesIndex=b}r.d(t,{p:()=>n})},98859:(e,t,r)=>{"use strict";function n(e){var t=e.privData,r=t.chunkOffsets,n=t.sampleSizes,a=t.cttsSampleCounts,s=t.cttsSampleOffsets,i=t.stscFirstChunk,c=t.stscSamplesPerChunk,o=t.stssSampleNumbersMap,u=t.sttsSampleCounts,f=t.sttsSampleDeltas;if(r.length){for(var d=0,p=0,l=0,h=0,x=0,b=0,v=BigInt(0),g=0,m=BigInt(0),k=[],U=0;U<r.length;U++)for(v=r[U],d<i.length-1&&i[d+1]===U+1&&d++,b=c[d];b>0;){var A={dts:m,pts:m,pos:v,size:n[g],duration:0,flags:0};(o&&o.has(g+1)||1===e.codecpar.codecType)&&(A.flags|=1),s&&(A.pts=A.dts+BigInt(Math.floor(s[h])),++x===a[h]&&(h++,x=0)),g&&(k[g-1].duration=Number(A.dts-k[g-1].dts)),v+=BigInt(Math.floor(A.size)),m+=BigInt(Math.floor(f[p])),++l===u[p]&&(p++,l=0),g++,k.push(A),b--}k.length>1&&(k[g-1].duration=k[g-2].duration),t.samplesIndex=k}}r.d(t,{X:()=>n})},3384:(e,t,r)=>{"use strict";function n(){return{trackId:0,baseDataOffset:BigInt(0),defaultSampleDuration:0,defaultSampleSize:0,defaultSampleFlags:0,baseMediaDecodeTime:BigInt(0),sampleCount:0,dataOffset:0,dataOffsetPos:BigInt(0),firstSampleFlags:0,sampleDurations:[],sampleSizes:[],sampleFlags:[],sampleCompositionTimeOffset:[],baseIsMoof:!1,ioWriter:null,buffers:[]}}r.d(t,{A:()=>n})},9690:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(77231);function a(){return{isom:!1,timescale:n.N_,duration:n.Dh,foundMoov:!1,foundMdat:!1,majorBrand:0,minorVersion:0,compatibleBrand:[],creationTime:BigInt(0),modificationTime:BigInt(0),rate:n.N_,volume:n.N_,matrix:null,nextTrackId:1,fragment:!1,trexs:[],currentFragment:null,boxsPositionInfo:[],holdMoovPos:BigInt(0),currentChunk:null}}},38106:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(77231);function a(){return{chunkOffsets:null,cttsSampleCounts:null,cttsSampleOffsets:null,stscFirstChunk:null,stscSamplesPerChunk:null,stscSampleDescriptionIndex:null,stssSampleNumbersMap:null,stssSampleNumbers:null,sampleSizes:null,sttsSampleCounts:null,sttsSampleDeltas:null,timescale:0,duration:BigInt(0),trackId:n.N_,layer:0,alternateGroup:0,volume:0,matrix:null,width:0,height:0,audioCid:0,samplesPerFrame:0,bytesPerFrame:0,currentSample:0,sampleEnd:!1,samplesIndex:[],fragIndexes:[],lastPts:BigInt(0),lastDts:BigInt(0),startDts:BigInt(0),startCT:0,lastDuration:0,chunkCount:0,firstWrote:!1,lastStscCount:0,perStreamGrouping:!1,index:0,flags:0}}},85428:(e,t,r)=>{"use strict";r.d(t,{G:()=>s});var n=r(77231),a=r(44328);function s(e,t){var r,s,i,c,o,u,f=BigInt(0);if(e.streams.forEach((function(e){var t=e.privData;if(!t.samplesIndex||!t.samplesIndex.length)return t.sampleEnd=!0,!0;t.sampleEnd||i&&!(t.samplesIndex[t.currentSample].pos<i.pos)||(i=t.samplesIndex[t.currentSample],c=e),t.sampleEnd||o&&!((0,a.k)(t.samplesIndex[t.currentSample].dts,e.timeBase,n.KR)<f)||(o=t.samplesIndex[t.currentSample],f=(0,a.k)(o.dts,e.timeBase,n.KR),u=e)})),i&&o){var d=(0,a.k)(i.dts,c.timeBase,n.KR),p=(0,a.k)(o.dts,u.timeBase,n.KR);Math.abs(Number(d-p))<1e6||2&e.ioReader.flags?(r=i,s=c):(r=o,s=u)}else i?(r=i,s=c):o&&(r=o,s=u);if(s&&(s.privData.currentSample++,s.privData.currentSample>=s.privData.samplesIndex.length&&(s.privData.sampleEnd=!0)),t.fragment){var l=!!e.streams.find((function(e){return!1===e.privData.sampleEnd}));l||(t.currentFragment=null)}return{sample:r,stream:s}}},74963:(e,t,r)=>{"use strict";r.d(t,{E6:()=>g,t9:()=>I,wB:()=>A,wZ:()=>z});var n=r(25182),a=r(36443),s=r.n(a),i=r(65977),c=r(21071),o=r(68361),u=r(4624),f=r(61179),d=r(98859),p=r(3384),l=r(38106),h=r(37837),x=r(14686),b=r(77231),v="src/avformat/formats/mov/imov.ts";function g(e,t,r){return m.apply(this,arguments)}function m(){return(m=(0,n.A)(s().mark((function e(t,r,n){var a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.getPos()+BigInt(Math.floor(n.size)),e.next=3,t.readUint32();case 3:return r.majorBrand=e.sent,e.next=6,t.readUint32();case 6:r.minorVersion=e.sent,r.majorBrand===(0,i.A)("qt  ")&&(r.isom=!0);case 8:if(!(t.getPos()<a)){e.next=16;break}return e.t0=r.compatibleBrand,e.next=12,t.readUint32();case 12:e.t1=e.sent,e.t0.push.call(e.t0,e.t1),e.next=8;break;case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e,t,r,n){return U.apply(this,arguments)}function U(){return(U=(0,n.A)(s().mark((function e(t,r,n,a){var f,d,p;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f=t.getPos()+BigInt(Math.floor(n.size)),d=s().mark((function e(){var n,f,d,p,l,h,x,b,g;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.readUint32();case 2:return n=e.sent,e.next=5,t.readUint32();case 5:if(f=e.sent,!(n<8)){e.next=9;break}return u.z3("invalid box size ".concat(n),v,76),e.abrupt("return",{v:void 0});case 9:if(!o.A[f]){e.next=14;break}return e.next=12,o.A[f](t,r,{type:f,size:n-8},a);case 12:e.next=46;break;case 14:if(f!==(0,i.A)("mdia")){e.next=39;break}d=!1,p=BigInt(0),l=t.getPos()+BigInt(Math.floor(n-8)),h=s().mark((function e(){var n,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.readUint32();case 2:return n=e.sent,e.next=5,t.readUint32();case 5:if((u=e.sent)!==(0,i.A)("hdlr")){e.next=12;break}return e.next=9,o.A[u](t,r,{type:u,size:n-8},a);case 9:d=!0,e.next=35;break;case 12:if(u!==(0,i.A)("minf")||!d){e.next=17;break}return e.next=15,k(t,r,{type:u,size:n-8},a);case 15:case 21:case 26:case 31:e.next=35;break;case 17:if(u!==(0,i.A)("minf")||d){e.next=23;break}return p=t.getPos()-BigInt(8),e.next=21,t.skip(n-8);case 23:if(!o.A[u]){e.next=28;break}return e.next=26,o.A[u](t,r,{type:u,size:n-8},a);case 28:if(!c.gQ.some((function(e){return(0,i.A)(e)===u}))){e.next=33;break}return e.next=31,k(t,r,{type:u,size:n-8},a);case 33:return e.next=35,t.skip(n-8);case 35:case"end":return e.stop()}}),e)}));case 19:if(!(t.getPos()<l)){e.next=23;break}return e.delegateYield(h(),"t0",21);case 21:e.next=19;break;case 23:if(!p){e.next=37;break}return x=t.getPos(),e.next=27,t.seek(p);case 27:return e.next=29,t.readUint32();case 29:return b=e.sent,e.next=32,t.readUint32();case 32:return g=e.sent,e.next=35,k(t,r,{type:g,size:b-8},a);case 35:return e.next=37,t.seek(x);case 37:e.next=46;break;case 39:if(!c.gQ.some((function(e){return(0,i.A)(e)===f}))){e.next=44;break}return e.next=42,k(t,r,{type:f,size:n-8},a);case 42:e.next=46;break;case 44:return e.next=46,t.skip(n-8);case 46:case"end":return e.stop()}}),e)}));case 2:if(!(t.getPos()<f)){e.next=9;break}return e.delegateYield(d(),"t0",4);case 4:if(!(p=e.t0)){e.next=7;break}return e.abrupt("return",p.v);case 7:e.next=2;break;case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e,t,r,n){return w.apply(this,arguments)}function w(){return(w=(0,n.A)(s().mark((function e(t,r,n,a){var c,f,p;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=t.getPos()+BigInt(Math.floor(a.size)),f=s().mark((function e(){var a,c,f,p,g;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.readUint32();case 2:return a=e.sent,e.next=5,t.readUint32();case 5:if(c=e.sent,!(a<8)){e.next=9;break}return u.z3("invalid box, type: ".concat(c,", size ").concat(a),v,209),e.abrupt("return",{v:void 0});case 9:if(!o.A[c]){e.next=14;break}return e.next=12,o.A[c](t,null,{type:c,size:a-8},n);case 12:case 25:case 31:e.next=35;break;case 14:if(c!==(0,i.A)("trak")){e.next=27;break}if(n.foundMoov&&!n.fragment){e.next=23;break}return(f=r.createStream()).privData=(0,l.A)(),e.next=20,k(t,f,{type:c,size:a-8},n);case 20:n.fragment?(p=f.privData,(g=r.streams.find((function(e){var t=e.privData;if(e.index!==f.index&&t.trackId===p.trackId)return!0})))?(f.sideData[1]&&(g.sideData[1]=f.sideData[1],g.codecpar.extradata&&(0,h.Eb)(g.codecpar.extradata),g.codecpar.extradataSize=g.sideData[1].length,g.codecpar.extradata=(0,h.sY)(g.codecpar.extradataSize),(0,x.lW)(g.codecpar.extradata,g.codecpar.extradataSize,g.sideData[1]),f.codecpar.width===b.N_&&p.width>0&&(g.codecpar.width=p.width),f.codecpar.width===b.N_&&p.height>0&&(g.codecpar.height=p.height)),r.removeStream(f),r.streamIndex--):(f.codecpar.width===b.N_&&p.width>0&&(f.codecpar.width=p.width),f.codecpar.width===b.N_&&p.height>0&&(f.codecpar.height=p.height))):(0,d.X)(f),e.next=25;break;case 23:return e.next=25,t.skip(a-8);case 27:if(c!==(0,i.A)("mvex")){e.next=33;break}return n.fragment=!0,e.next=31,k(t,null,{type:c,size:a-8},n);case 33:return e.next=35,t.skip(a-8);case 35:case"end":return e.stop()}}),e)}));case 2:if(!(t.getPos()<c)){e.next=9;break}return e.delegateYield(f(),"t0",4);case 4:if(!(p=e.t0)){e.next=7;break}return e.abrupt("return",p.v);case 7:e.next=2;break;case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e,t,r,n){return y.apply(this,arguments)}function y(){return(y=(0,n.A)(s().mark((function e(t,r,n,a){var c,d,l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=t.getPos()+BigInt(Math.floor(a.size)),d=s().mark((function e(){var a,c,d,l,h;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.readUint32();case 2:return a=e.sent,e.next=5,t.readUint32();case 5:if(c=e.sent,!(a<8)){e.next=9;break}return u.z3("invalid box, type: ".concat(c,", size ").concat(a),v,314),e.abrupt("return",{v:void 0});case 9:if(!o.A[c]){e.next=14;break}return e.next=12,o.A[c](t,null,{type:c,size:a-8},n);case 12:e.next=27;break;case 14:if(c!==(0,i.A)("traf")){e.next=25;break}return d=(0,p.A)(),n.currentFragment.currentTrack=d,e.next=19,k(t,null,{type:c,size:a-8},n);case 19:n.currentFragment.tracks.push(d),n.currentFragment.currentTrack=null,(l=r.streams.find((function(e){return e.privData.trackId===d.trackId})))&&(h=l.privData,d.streamIndex=l.index,(0,f.p)(l,d,n,r.ioReader.flags),h.currentSample=0,h.sampleEnd=!1),e.next=27;break;case 25:return e.next=27,t.skip(a-8);case 27:case"end":return e.stop()}}),e)}));case 2:if(!(t.getPos()<c)){e.next=9;break}return e.delegateYield(d(),"t0",4);case 4:if(!(l=e.t0)){e.next=7;break}return e.abrupt("return",l.v);case 7:e.next=2;break;case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e,t,r,n){return P.apply(this,arguments)}function P(){return(P=(0,n.A)(s().mark((function e(t,r,n,a){var c,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=t.getPos()+BigInt(Math.floor(a.size)),o=s().mark((function e(){var a,c,o,u,f,d,p,l,h,x,b,v,g,m,k,U,A;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.getPos(),e.next=3,t.readUint32();case 3:return c=e.sent,e.next=6,t.readUint32();case 6:if(e.sent!==(0,i.A)("tfra")){e.next=89;break}return e.next=10,t.readUint8();case 10:return o=e.sent,e.next=13,t.skip(3);case 13:return e.next=15,t.readUint32();case 15:return u=e.sent,e.next=18,t.readUint32();case 18:return f=e.sent,e.next=21,t.readUint32();case 21:if(d=e.sent,!(p=r.streams.find((function(e){return e.privData.trackId===u})))){e.next=89;break}l=p.privData,b=0;case 26:if(!(b<d)){e.next=75;break}if(1!==o){e.next=36;break}return e.next=30,t.readUint64();case 30:return h=e.sent,e.next=33,t.readUint64();case 33:x=e.sent,e.next=50;break;case 36:return e.t0=BigInt,e.t1=Math,e.next=40,t.readUint32();case 40:return e.t2=e.sent,e.t3=e.t1.floor.call(e.t1,e.t2),h=(0,e.t0)(e.t3),e.t4=BigInt,e.t5=Math,e.next=47,t.readUint32();case 47:e.t6=e.sent,e.t7=e.t5.floor.call(e.t5,e.t6),x=(0,e.t4)(e.t7);case 50:l.fragIndexes.push({pos:x,time:h}),v=0;case 52:if(!(v<1+(f>>4&3))){e.next=58;break}return e.next=55,t.skip(1);case 55:v++,e.next=52;break;case 58:g=0;case 59:if(!(g<1+(f>>2&3))){e.next=65;break}return e.next=62,t.skip(1);case 62:g++,e.next=59;break;case 65:m=0;case 66:if(!(m<1+(3&f))){e.next=72;break}return e.next=69,t.skip(1);case 69:m++,e.next=66;break;case 72:b++,e.next=26;break;case 75:if(!l.fragIndexes.length){e.next=89;break}return e.next=78,t.seek(l.fragIndexes[l.fragIndexes.length-1].pos);case 78:return e.next=80,t.readUint32();case 80:return k=e.sent,e.next=83,t.readUint32();case 83:if((U=e.sent)!==(0,i.A)("moof")){e.next=89;break}return n.currentFragment={pos:BigInt(0),size:k,sequence:0,tracks:[],currentTrack:null},e.next=88,z(t,r,n,{size:k,type:U});case 88:l.samplesIndex.length&&(A=l.samplesIndex[l.samplesIndex.length-1],p.duration=A.pts+BigInt(Math.floor(A.duration)),l.samplesIndex.length=0);case 89:return e.next=91,t.seek(a+BigInt(Math.floor(c)),!1,!1);case 91:case"end":return e.stop()}}),e)}));case 2:if(!(t.getPos()<c)){e.next=6;break}return e.delegateYield(o(),"t0",4);case 4:e.next=2;break;case 6:n.currentFragment=null;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},6660:(e,t,r)=>{"use strict";r.d(t,{Q9:()=>o,f3:()=>u,uf:()=>f,zs:()=>c});var n,a,s=r(134),i=r(65977),c=(n={},(0,s.A)((0,s.A)((0,s.A)((0,s.A)((0,s.A)((0,s.A)((0,s.A)((0,s.A)((0,s.A)((0,s.A)(n,86018,64),86017,105),86076,173),86028,193),86021,221),12,32),27,33),173,35),196,51),167,177),(0,s.A)(n,0,0)),o={32:12,33:27,35:173,51:196,177:167,64:86018,102:86018,103:86018,104:86018,105:86017,107:86017,173:86076,193:86028,221:86021,0:0},u={vide:0,soun:1,clcp:3,sbtl:3,subt:3,subp:3,text:3},f=(a={},(0,s.A)((0,s.A)((0,s.A)((0,s.A)((0,s.A)((0,s.A)((0,s.A)((0,s.A)((0,s.A)((0,s.A)(a,(0,i.A)("mp4a"),86018),1836253269,86017),(0,i.A)("Opus"),86076),(0,i.A)("fLaC"),86028),(0,i.A)("spex"),86051),(0,i.A)("SPXN"),86051),(0,i.A)("ac-3"),86019),(0,i.A)("sac3"),86019),i.A.mp4v,12),(0,i.A)("av01"),225),(0,s.A)((0,s.A)((0,s.A)((0,s.A)((0,s.A)((0,s.A)((0,s.A)((0,s.A)((0,s.A)(a,(0,i.A)("vp08"),139),(0,i.A)("vp09"),167),(0,i.A)("avc1"),27),(0,i.A)("hev1"),173),(0,i.A)("hvc1"),173),(0,i.A)("vvc1"),196),(0,i.A)("vvi1"),196),(0,i.A)("text"),94213),(0,i.A)("tx3g"),94213))},38582:(e,t,r)=>{"use strict";r.d(t,{A:()=>d});var n=r(25182),a=r(36443),s=r.n(a),i=r(4624),c=r(14686),o=r(37837),u=r(90412),f="src/avformat/formats/mov/parsing/av1c.ts";function d(e,t,r,n){return p.apply(this,arguments)}function p(){return(p=(0,n.A)(s().mark((function e(t,r,n,a){var d,p,l,h;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d=t.getPos(),r.codecpar.codecId=225,!(n.size<=0)){e.next=4;break}return e.abrupt("return");case 4:return p=(0,o.sY)(n.size),e.next=7,t.readBuffer(n.size,(0,c.JW)(p,n.size));case 7:if(l=e.sent,a.foundMoov?(r.sideData[1]=l.slice(),(0,o.Eb)(p)):(r.codecpar.extradata=p,r.codecpar.extradataSize=n.size,r.sideData[1]=l.slice()),u.XC(r,r.sideData[1]),!((h=n.size-Number(t.getPos()-d))>0)){e.next=16;break}return e.next=14,t.skip(h);case 14:e.next=17;break;case 16:h<0&&i.z3("read avcc error, size: ".concat(n.size,", read: ").concat(n.size-h),f,67);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},73840:(e,t,r)=>{"use strict";r.d(t,{A:()=>d});var n=r(25182),a=r(36443),s=r.n(a),i=r(37837),c=r(14686),o=r(4624),u=r(20620),f="src/avformat/formats/mov/parsing/avcc.ts";function d(e,t,r,n){return p.apply(this,arguments)}function p(){return(p=(0,n.A)(s().mark((function e(t,r,n,a){var d,p,l,h;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d=t.getPos(),r.codecpar.codecId=27,!(n.size<=0)){e.next=4;break}return e.abrupt("return");case 4:return p=(0,i.sY)(n.size),e.next=7,t.readBuffer(n.size,(0,c.JW)(p,n.size));case 7:if(l=e.sent,a.foundMoov?(r.sideData[1]=l.slice(),(0,i.Eb)(p)):(r.codecpar.extradata=p,r.codecpar.extradataSize=n.size,r.sideData[1]=l.slice()),u.XC(r,r.sideData[1]),!((h=n.size-Number(t.getPos()-d))>0)){e.next=16;break}return e.next=14,t.skip(h);case 14:e.next=17;break;case 16:h<0&&o.z3("read avcc error, size: ".concat(n.size,", read: ").concat(n.size-h),f,67);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},37213:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(25182),a=r(36443),s=r.n(a),i=r(4624),c="src/avformat/formats/mov/parsing/co64.ts";function o(e,t,r,n){return u.apply(this,arguments)}function u(){return(u=(0,n.A)(s().mark((function e(t,r,n,a){var o,u,f,d,p,l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.getPos(),e.next=3,t.readUint8();case 3:return u=e.sent,e.next=6,t.skip(3);case 6:return f=[],e.next=9,t.readUint32();case 9:if(d=e.sent,0!==u){e.next=21;break}p=0;case 12:if(!(p<d)){e.next=21;break}return e.t0=f,e.next=16,t.readUint64();case 16:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 18:p++,e.next=12;break;case 21:if(r.privData.chunkOffsets=f,!((l=n.size-Number(t.getPos()-o))>0)){e.next=28;break}return e.next=26,t.skip(l);case 26:e.next=29;break;case 28:l<0&&i.z3("read co64 error, size: ".concat(n.size,", read: ").concat(n.size-l),c,56);case 29:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},12869:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(25182),a=r(36443),s=r.n(a),i=r(4624),c="src/avformat/formats/mov/parsing/colr.ts";function o(e,t,r,n){return u.apply(this,arguments)}function u(){return(u=(0,n.A)(s().mark((function e(t,r,n,a){var o,u,f,d,p,l,h,x;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.getPos(),e.next=3,t.readString(4);case 3:if("nclx"!==(u=e.sent)&&"nclc"!==u&&"prof"!==u){e.next=35;break}if("prof"!==u){e.next=12;break}return e.next=8,t.readBuffer(n.size-4);case 8:f=e.sent,r.sideData[28]=f,e.next=33;break;case 12:return e.next=14,t.readUint16();case 14:return d=e.sent,e.next=17,t.readUint16();case 17:return p=e.sent,e.next=20,t.readUint16();case 20:if(l=e.sent,"nclx"!==u){e.next=27;break}return e.next=24,t.readUint8();case 24:e.t0=e.sent,h=e.t0>>7,r.codecpar.colorRange=h?2:1;case 27:d>=23&&(d=2),p>=19&&(p=2),l>=15&&(l=2),r.codecpar.colorPrimaries=d,r.codecpar.colorTrc=p,r.codecpar.colorSpace=l;case 33:e.next=36;break;case 35:i.R8("unsupported color_parameter_type: ".concat(u),c,79);case 36:if(!((x=n.size-Number(t.getPos()-o))>0)){e.next=42;break}return e.next=40,t.skip(x);case 40:e.next=43;break;case 42:x<0&&i.z3("read vpcc error, size: ".concat(n.size,", read: ").concat(n.size-x),c,87);case 43:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},59299:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(25182),a=r(36443),s=r.n(a),i=r(4624),c="src/avformat/formats/mov/parsing/ctts.ts";function o(e,t,r,n){return u.apply(this,arguments)}function u(){return(u=(0,n.A)(s().mark((function e(t,r,n,a){var o,u,f,d,p,l,h;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.getPos(),u=r.privData,e.next=4,t.skip(4);case 4:return f=[],d=[],e.next=8,t.readUint32();case 8:p=e.sent,l=0;case 10:if(!(l<p)){e.next=24;break}return e.t0=f,e.next=14,t.readUint32();case 14:return e.t1=e.sent,e.t0.push.call(e.t0,e.t1),e.t2=d,e.next=19,t.readInt32();case 19:e.t3=e.sent,e.t2.push.call(e.t2,e.t3);case 21:l++,e.next=10;break;case 24:if(u.cttsSampleCounts=f,u.cttsSampleOffsets=d,!((h=n.size-Number(t.getPos()-o))>0)){e.next=32;break}return e.next=30,t.skip(h);case 30:e.next=33;break;case 32:h<0&&i.z3("read ctts error, size: ".concat(n.size,", read: ").concat(n.size-h),c,59);case 33:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},7320:(e,t,r)=>{"use strict";r.d(t,{A:()=>h});var n=r(25182),a=r(36443),s=r.n(a),i=r(61499),c=r(63939),o=r(50932),u=r(4624),f=r(71517),d=r(87771),p=r(99991),l="src/avformat/formats/mov/parsing/dac3.ts";function h(e,t,r,n){return x.apply(this,arguments)}function x(){return(x=(0,n.A)(s().mark((function e(t,r,n,a){var h,x,b,v,g,m,k,U,A;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h=t.getPos(),r.codecpar.codecId=86019,!(n.size<=0)){e.next=4;break}return e.abrupt("return");case 4:return x=(0,f.E4)(r.codecpar[i.o9]+20,r.codecpar[i.o9]+24,7,4),b=c.f[20](x),e.next=8,t.readUint24();case 8:if(v=e.sent,g=v>>14&7,m=v>>11&7,k=v>>10&1,U=d.j[m],k&&(U|=8),p.bl(r.codecpar[i.o9]+112),p.ML(r.codecpar[i.o9]+112,U),o.M[15](b,g),!((A=n.size-Number(t.getPos()-h))>0)){e.next=23;break}return e.next=21,t.skip(A);case 21:e.next=24;break;case 23:A<0&&u.z3("read avcc error, size: ".concat(n.size,", read: ").concat(n.size-A),l,77);case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},36868:(e,t,r)=>{"use strict";r.d(t,{A:()=>h});var n=r(25182),a=r(36443),s=r.n(a),i=r(61499),c=r(63939),o=r(50932),u=r(4624),f=r(71517),d=r(87771),p=r(99991),l="src/avformat/formats/mov/parsing/dec3.ts";function h(e,t,r,n){return x.apply(this,arguments)}function x(){return(x=(0,n.A)(s().mark((function e(t,r,n,a){var h,x,b,v,g,m,k,U,A;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h=t.getPos(),r.codecpar.codecId=86056,!(n.size<=0)){e.next=4;break}return e.abrupt("return");case 4:return x=(0,f.E4)(r.codecpar[i.o9]+20,r.codecpar[i.o9]+24,7,4),b=c.f[20](x),e.next=8,t.skip(2);case 8:return e.next=10,t.readUint24();case 10:if(v=e.sent,g=v>>12&31,m=v>>9&7,k=v>>8&1,U=d.j[m],k&&(U|=8),p.bl(r.codecpar[i.o9]+112),p.ML(r.codecpar[i.o9]+112,U),o.M[15](b,g),r.codecpar.chLayout.nbChannels>1&&7==g&&o.M[15](b,8),!((A=n.size-Number(t.getPos()-h))>0)){e.next=26;break}return e.next=24,t.skip(A);case 24:e.next=27;break;case 26:A<0&&u.z3("read avcc error, size: ".concat(n.size,", read: ").concat(n.size-A),l,82);case 27:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},86528:(e,t,r)=>{"use strict";r.d(t,{A:()=>f});var n=r(25182),a=r(36443),s=r.n(a),i=r(4624),c=r(37837),o=r(14686),u="src/avformat/formats/mov/parsing/dfla.ts";function f(e,t,r,n){return d.apply(this,arguments)}function d(){return(d=(0,n.A)(s().mark((function e(t,r,n,a){var f,d,p,l,h,x,b,v;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f=t.getPos(),r.codecpar.codecId=86028,e.next=4,t.skip(1);case 4:return e.next=6,t.skip(3);case 6:return e.next=8,t.readUint8();case 8:return d=e.sent,p=128&d,l=127&d,e.next=13,t.readUint24();case 13:if(h=e.sent,0!==l||34!==h){e.next=22;break}return x=(0,c.sY)(h),e.next=18,t.readBuffer(h,(0,o.JW)(x,h));case 18:b=e.sent,a.foundMoov?(r.sideData[1]=b.slice(),(0,c.Eb)(x)):(r.codecpar.extradata=x,r.codecpar.extradataSize=h),e.next=23;break;case 22:i.z3("streaminfo must be first FLACMetadataBlock",u,67);case 23:if(p||i.R8("non streaminfo FLACMetadataBlock(s) ignored",u,71),!((v=n.size-Number(t.getPos()-f))>0)){e.next=30;break}return e.next=28,t.skip(v);case 28:e.next=31;break;case 30:v<0&&i.z3("read vpcc error, size: ".concat(n.size,", read: ").concat(n.size-v),u,79);case 31:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},41781:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var n=r(25182),a=r(36443),s=r.n(a),i=r(4624),c=r(37837),o=r(14686),u=r(65451),f=r(31865),d=r(729),p="src/avformat/formats/mov/parsing/dops.ts";function l(e,t,r,n){return h.apply(this,arguments)}function h(){return(h=(0,n.A)(s().mark((function e(t,r,n,a){var l,h,x,b,v,g;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=t.getPos(),r.codecpar.codecId=86076,e.next=4,t.skip(1);case 4:return h=(0,c.sY)(n.size+8),x=(0,o.JW)(h,n.size+8),b=new f.A(x),(v=new d.A(x,!1)).writeString("OpusHead"),v.writeUint8(1),e.next=12,t.readBuffer(n.size-1,(0,o.JW)(h+9,n.size-1));case 12:if(b.seek(10),v.seek(10),v.writeUint16(b.readUint16()),v.writeUint32(b.readUint32()),v.writeUint16(b.readUint16()),a.foundMoov?(r.sideData[1]=x.slice(),(0,c.Eb)(h)):(r.codecpar.extradata=h,r.codecpar.extradataSize=x.length,u.XC(r,x.slice())),!((g=n.size-Number(t.getPos()-l))>0)){e.next=24;break}return e.next=22,t.skip(g);case 22:e.next=25;break;case 24:g<0&&i.z3("read dops error, size: ".concat(n.size,", read: ").concat(n.size-g),p,81);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},28412:(e,t,r)=>{"use strict";r.d(t,{A:()=>x});var n=r(25182),a=r(36443),s=r.n(a),i=r(4624),c=r(6660),o=r(37837),u=r(14686),f=r(58469),d=r(65451),p="src/avformat/formats/mov/parsing/esds.ts";function l(e){return h.apply(this,arguments)}function h(){return(h=(0,n.A)(s().mark((function e(t){var r,n,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=0,n=0;case 2:if(!(n<4)){e.next=12;break}return e.next=5,t.readUint8();case 5:if(a=e.sent,r=r<<7|127&a,128&a){e.next=9;break}return e.abrupt("break",12);case 9:n++,e.next=2;break;case 12:return e.abrupt("return",r);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e,t,r,n){return b.apply(this,arguments)}function b(){return(b=(0,n.A)(s().mark((function e(t,r,n,a){var h,x,b,v,g,m,k,U;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h=t.getPos(),e.next=3,t.skip(4);case 3:x=t.getPos()+BigInt(Math.floor(n.size-4));case 4:if(!(t.getPos()<x)){e.next=77;break}return e.next=7,t.readUint8();case 7:return b=e.sent,e.next=10,l(t);case 10:if(0!==(v=e.sent)){e.next=16;break}return i.R8("esds invalid descriptor size 0, skip",p,68),e.next=15,t.skip(Number(x-t.getPos()));case 15:return e.abrupt("continue",4);case 16:if(3!==b){e.next=73;break}return g=t.getPos()+BigInt(Math.floor(v)),e.next=20,t.skip(2);case 20:return e.next=22,t.skip(1);case 22:return e.next=24,t.readUint8();case 24:return b=e.sent,e.next=27,l(t);case 27:if(0!==(v=e.sent)){e.next=33;break}return i.R8("esds invalid ES descriptor size 0, skip",p,85),e.next=32,t.skip(Number(g-t.getPos()));case 32:return e.abrupt("continue",4);case 33:if(4!==b){e.next=69;break}return e.next=36,t.readUint8();case 36:return e.t0=e.sent,r.codecpar.codecId=c.Q9[e.t0],e.next=40,t.skip(1);case 40:return e.next=42,t.skip(3);case 42:return e.next=44,t.skip(4);case 44:return e.next=46,t.skip(4);case 46:if(!(t.getPos()<g-BigInt(5))){e.next=65;break}return e.next=49,t.readUint8();case 49:return b=e.sent,e.next=52,l(t);case 52:if(v=e.sent,5!==b){e.next=61;break}return m=(0,o.sY)(v),e.next=57,t.readBuffer(v,(0,u.JW)(m,v));case 57:k=e.sent,a.foundMoov?(r.sideData[1]=k.slice(),(0,o.Eb)(m)):(r.codecpar.extradata=m,r.codecpar.extradataSize=v,86018===r.codecpar.codecId?f.XC(r,k.slice()):86076===r.codecpar.codecId&&d.XC(r,k.slice())),e.next=63;break;case 61:return e.next=63,t.skip(Number(g-t.getPos()));case 63:e.next=67;break;case 65:return e.next=67,t.skip(Number(g-t.getPos()));case 67:e.next=71;break;case 69:return e.next=71,t.skip(Math.min(v,Number(g-t.getPos())));case 71:e.next=75;break;case 73:return e.next=75,t.skip(Math.min(v,Number(x-t.getPos())));case 75:e.next=4;break;case 77:if(!((U=n.size-Number(t.getPos()-h))>0)){e.next=83;break}return e.next=81,t.skip(U);case 81:e.next=84;break;case 83:U<0&&i.z3("read vpcc error, size: ".concat(n.size,", read: ").concat(n.size-U),p,153);case 84:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},40179:(e,t,r)=>{"use strict";r.d(t,{A:()=>f});var n=r(25182),a=r(36443),s=r.n(a),i=r(4624),c=r(34677),o=r(6660),u="src/avformat/formats/mov/parsing/hdlr.ts";function f(e,t,r,n){return d.apply(this,arguments)}function d(){return(d=(0,n.A)(s().mark((function e(t,r,n,a){var f,d,p,l,h,x,b;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f=t.getPos(),e.next=3,t.readUint8();case 3:return d=e.sent,e.next=6,t.skip(3);case 6:if(0!==d){e.next=36;break}return e.next=9,t.skip(4);case 9:return e.next=11,t.readString(4);case 11:return p=e.sent,l=o.f3[p],(0,c.A)(l)&&(r.codecpar.codecType=l),e.next=16,t.skip(4);case 16:return e.next=18,t.skip(4);case 18:return e.next=20,t.skip(4);case 20:if(!((h=n.size-24)>0)){e.next=36;break}if(e.t0=!a.isom,!e.t0){e.next=29;break}return e.next=26,t.peekUint8();case 26:e.t1=e.sent,e.t2=h-1,e.t0=e.t1===e.t2;case 29:if(!(x=e.t0)){e.next=33;break}return e.next=33,t.skip(1);case 33:return e.next=35,t.readString(h-(x?1:0));case 35:r.metadata.handlerName=e.sent;case 36:if(!((b=n.size-Number(t.getPos()-f))>0)){e.next=42;break}return e.next=40,t.skip(b);case 40:e.next=43;break;case 42:b<0&&i.z3("read hdlr error, size: ".concat(n.size,", read: ").concat(n.size-b),u,77);case 43:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},31421:(e,t,r)=>{"use strict";r.d(t,{A:()=>d});var n=r(25182),a=r(36443),s=r.n(a),i=r(37837),c=r(14686),o=r(4624),u=r(53e3),f="src/avformat/formats/mov/parsing/hvcc.ts";function d(e,t,r,n){return p.apply(this,arguments)}function p(){return(p=(0,n.A)(s().mark((function e(t,r,n,a){var d,p,l,h;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d=t.getPos(),r.codecpar.codecId=173,!(n.size<=0)){e.next=4;break}return e.abrupt("return");case 4:return p=(0,i.sY)(n.size),e.next=7,t.readBuffer(n.size,(0,c.JW)(p,n.size));case 7:if(l=e.sent,a.foundMoov?(r.sideData[1]=l.slice(),(0,i.Eb)(p)):(r.codecpar.extradata=p,r.codecpar.extradataSize=n.size,r.sideData[1]=l.slice()),u.XC(r,r.sideData[1]),!((h=n.size-Number(t.getPos()-d))>0)){e.next=16;break}return e.next=14,t.skip(h);case 14:e.next=17;break;case 16:h<0&&o.z3("read hevc error, size: ".concat(n.size,", read: ").concat(n.size-h),f,67);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},45248:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(25182),a=r(36443),s=r.n(a),i=r(4624),c="src/avformat/formats/mov/parsing/mdhd.ts";function o(e,t,r,n){return u.apply(this,arguments)}function u(){return(u=(0,n.A)(s().mark((function e(t,r,n,a){var o,u,f,d,p,l,h,x,b,v;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.getPos(),e.next=3,t.readUint8();case 3:return u=e.sent,e.next=6,t.skip(3);case 6:if(f=BigInt(0),d=BigInt(0),p=0,l=BigInt(0),1!==u){e.next=25;break}return e.next=13,t.readUint64();case 13:return f=e.sent,e.next=16,t.readUint64();case 16:return d=e.sent,e.next=19,t.readUint32();case 19:return p=e.sent,e.next=22,t.readUint64();case 22:l=e.sent,e.next=49;break;case 25:return e.t0=BigInt,e.t1=Math,e.next=29,t.readUint32();case 29:return e.t2=e.sent,e.t3=e.t1.floor.call(e.t1,e.t2),f=(0,e.t0)(e.t3),e.t4=BigInt,e.t5=Math,e.next=36,t.readUint32();case 36:return e.t6=e.sent,e.t7=e.t5.floor.call(e.t5,e.t6),d=(0,e.t4)(e.t7),e.next=41,t.readUint32();case 41:return p=e.sent,e.t8=BigInt,e.t9=Math,e.next=46,t.readUint32();case 46:e.t10=e.sent,e.t11=e.t9.floor.call(e.t9,e.t10),l=(0,e.t8)(e.t11);case 49:return r.duration=l,r.timeBase.den=p,r.timeBase.num=1,r.metadata.creationTime=f,r.metadata.modificationTime=d,e.next=56,t.readUint16();case 56:return h=e.sent,(x=[])[0]=h>>10&31,x[1]=h>>5&31,x[2]=31&h,b=String.fromCharCode(x[0]+96,x[1]+96,x[2]+96),r.metadata.language=h,r.metadata.languageString=b,e.next=66,t.skip(2);case 66:if(!((v=n.size-Number(t.getPos()-o))>0)){e.next=72;break}return e.next=70,t.skip(v);case 70:e.next=73;break;case 72:v<0&&i.z3("read mdhd error, size: ".concat(n.size,", read: ").concat(n.size-v),c,83);case 73:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},7018:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(25182),a=r(36443),s=r.n(a),i=r(4624),c="src/avformat/formats/mov/parsing/mfhd.ts";function o(e,t,r,n){return u.apply(this,arguments)}function u(){return(u=(0,n.A)(s().mark((function e(t,r,n,a){var o,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.getPos(),e.next=3,t.readUint8();case 3:return e.sent,e.next=6,t.skip(3);case 6:return e.next=8,t.readUint32();case 8:if(a.currentFragment.sequence=e.sent,!((u=n.size-Number(t.getPos()-o))>0)){e.next=15;break}return e.next=13,t.skip(u);case 13:e.next=16;break;case 15:u<0&&i.z3("read vpcc error, size: ".concat(n.size,", read: ").concat(n.size-u),c,49);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},19354:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(25182),a=r(36443),s=r.n(a),i=r(4624),c="src/avformat/formats/mov/parsing/mvhd.ts";function o(e,t,r,n){return u.apply(this,arguments)}function u(){return(u=(0,n.A)(s().mark((function e(t,r,n,a){var o,u,f,d;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.getPos(),e.next=3,t.readUint8();case 3:return u=e.sent,e.next=6,t.skip(3);case 6:if(1!==u){e.next=21;break}return e.next=9,t.readUint64();case 9:return a.creationTime=e.sent,e.next=12,t.readUint64();case 12:return a.modificationTime=e.sent,e.next=15,t.readUint32();case 15:return a.timescale=e.sent,e.next=18,t.readUint64();case 18:a.duration=e.sent,e.next=45;break;case 21:return e.t0=BigInt,e.t1=Math,e.next=25,t.readUint32();case 25:return e.t2=e.sent,e.t3=e.t1.floor.call(e.t1,e.t2),a.creationTime=(0,e.t0)(e.t3),e.t4=BigInt,e.t5=Math,e.next=32,t.readUint32();case 32:return e.t6=e.sent,e.t7=e.t5.floor.call(e.t5,e.t6),a.modificationTime=(0,e.t4)(e.t7),e.next=37,t.readUint32();case 37:return a.timescale=e.sent,e.t8=BigInt,e.t9=Math,e.next=42,t.readUint32();case 42:e.t10=e.sent,e.t11=e.t9.floor.call(e.t9,e.t10),a.duration=(0,e.t8)(e.t11);case 45:return e.next=47,t.readUint32();case 47:return a.rate=e.sent,e.next=50,t.readUint16();case 50:return e.t12=e.sent,a.volume=e.t12>>>8,e.next=54,t.skip(10);case 54:a.matrix=new Uint32Array(9),f=0;case 56:if(!(f<9)){e.next=63;break}return e.next=59,t.readUint32();case 59:a.matrix[f]=e.sent;case 60:f++,e.next=56;break;case 63:return e.next=65,t.skip(24);case 65:return e.next=67,t.readUint32();case 67:if(a.nextTrackId=e.sent,!((d=n.size-Number(t.getPos()-o))>0)){e.next=74;break}return e.next=72,t.skip(d);case 72:e.next=75;break;case 74:d<0&&i.z3("read mvhd error, size: ".concat(n.size,", read: ").concat(n.size-d),c,70);case 75:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},68361:(e,t,r)=>{"use strict";r.d(t,{A:()=>z});var n,a=r(134),s=r(91635),i=r(59299),c=r(63080),o=r(62831),u=r(6570),f=r(34136),d=r(15692),p=r(37213),l=r(45248),h=r(19354),x=r(27436),b=r(40179),v=r(35173),g=r(25778),m=r(7018),k=r(61807),U=r(67523),A=r(58996),w=r(65977);const z=(n={},(0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)(n,(0,w.A)("stts"),s.A),(0,w.A)("ctts"),i.A),(0,w.A)("stss"),c.A),(0,w.A)("stsz"),o.A),(0,w.A)("stz2"),u.A),(0,w.A)("stsc"),f.A),(0,w.A)("stco"),d.A),(0,w.A)("co64"),p.A),(0,w.A)("mdhd"),l.A),(0,w.A)("mvhd"),h.A),(0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)(n,(0,w.A)("tkhd"),x.A),(0,w.A)("hdlr"),b.A),(0,w.A)("stsd"),v.A),(0,w.A)("trex"),g.A),(0,w.A)("mfhd"),m.A),(0,w.A)("tfhd"),k.A),(0,w.A)("tfdt"),U.A),(0,w.A)("trun"),A.A))},15692:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(25182),a=r(36443),s=r.n(a),i=r(4624),c="src/avformat/formats/mov/parsing/stco.ts";function o(e,t,r,n){return u.apply(this,arguments)}function u(){return(u=(0,n.A)(s().mark((function e(t,r,n,a){var o,u,f,d,p,l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.getPos(),e.next=3,t.readUint8();case 3:return u=e.sent,e.next=6,t.skip(3);case 6:return f=[],e.next=9,t.readUint32();case 9:if(d=e.sent,0!==u){e.next=25;break}p=0;case 12:if(!(p<d)){e.next=25;break}return e.t0=f,e.t1=BigInt,e.t2=Math,e.next=18,t.readUint32();case 18:e.t3=e.sent,e.t4=e.t2.floor.call(e.t2,e.t3),e.t5=(0,e.t1)(e.t4),e.t0.push.call(e.t0,e.t5);case 22:p++,e.next=12;break;case 25:if(r.privData.chunkOffsets=f,!((l=n.size-Number(t.getPos()-o))>0)){e.next=32;break}return e.next=30,t.skip(l);case 30:e.next=33;break;case 32:l<0&&i.z3("read stco error, size: ".concat(n.size,", read: ").concat(n.size-l),c,56);case 33:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},34136:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(25182),a=r(36443),s=r.n(a),i=r(4624),c="src/avformat/formats/mov/parsing/stsc.ts";function o(e,t,r,n){return u.apply(this,arguments)}function u(){return(u=(0,n.A)(s().mark((function e(t,r,n,a){var o,u,f,d,p,l,h,x,b;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.getPos(),e.next=3,t.readUint8();case 3:return u=e.sent,e.next=6,t.skip(3);case 6:return f=r.privData,d=[],p=[],l=[],e.next=12,t.readUint32();case 12:if(h=e.sent,0!==u){e.next=34;break}x=0;case 15:if(!(x<h)){e.next=34;break}return e.t0=d,e.next=19,t.readUint32();case 19:return e.t1=e.sent,e.t0.push.call(e.t0,e.t1),e.t2=p,e.next=24,t.readUint32();case 24:return e.t3=e.sent,e.t2.push.call(e.t2,e.t3),e.t4=l,e.next=29,t.readUint32();case 29:e.t5=e.sent,e.t4.push.call(e.t4,e.t5);case 31:x++,e.next=15;break;case 34:if(f.stscFirstChunk=d,f.stscSamplesPerChunk=p,f.stscSampleDescriptionIndex=l,!((b=n.size-Number(t.getPos()-o))>0)){e.next=43;break}return e.next=41,t.skip(b);case 41:e.next=44;break;case 43:b<0&&i.z3("read stsc error, size: ".concat(n.size,", read: ").concat(n.size-b),c,65);case 44:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},35173:(e,t,r)=>{"use strict";r.d(t,{A:()=>A});var n=r(25182),a=r(36443),s=r.n(a),i=r(4624),c=r(65977),o=r(6660),u=r(73840),f=r(31421),d=r(60703),p=r(83561),l=r(38582),h=r(28412),x=r(28460),b=r(86528),v=r(41781),g=r(12869),m=r(7320),k=r(36868),U="src/avformat/formats/mov/parsing/stsd.ts";function A(e,t,r,n){return w.apply(this,arguments)}function w(){return(w=(0,n.A)(s().mark((function e(t,r,n,a){var A,w,z,y,I,P,B,M,S,_,D,N,C,R,L;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A=t.getPos(),e.next=3,t.readUint8();case 3:return w=e.sent,e.next=6,t.skip(3);case 6:return z=r.privData,e.next=9,t.readUint32();case 9:y=e.sent,I=0;case 11:if(!(I<y)){e.next=252;break}return e.next=14,t.readUint32();case 14:return P=e.sent,e.next=17,t.readUint32();case 17:if(B=e.sent,M=t.getPos()+BigInt(Math.floor(P-8)),o.uf[B]&&(r.codecpar.codecId=o.uf[B]),0!==P){e.next=25;break}return i.R8("stsd entry invalid box size 0, skip",U,73),e.next=24,t.skip(Number(M-t.getPos()));case 24:return e.abrupt("break",252);case 25:if(!(P>=16)){e.next=32;break}return e.next=28,t.skip(6);case 28:return e.next=30,t.skip(2);case 30:e.next=33;break;case 32:P<=7&&i.h2("invalid size: ".concat(P," in stsd"),U,86);case 33:if(0!==r.codecpar.codecType){e.next=131;break}return e.next=36,t.skip(2);case 36:return e.next=38,t.skip(2);case 38:return e.next=40,t.readString(4);case 40:return r.metadata.vendorId=e.sent,e.next=43,t.skip(4);case 43:return e.next=45,t.skip(4);case 45:return e.next=47,t.readUint16();case 47:return r.codecpar.width=e.sent,e.next=50,t.readUint16();case 50:return r.codecpar.height=e.sent,e.next=53,t.skip(4);case 53:return e.next=55,t.skip(4);case 55:return e.next=57,t.skip(4);case 57:return e.next=59,t.skip(2);case 59:return e.next=61,t.readUint8();case 61:return(S=e.sent)>31&&(S=31),e.next=65,t.readString(S);case 65:if(r.metadata.encoder=e.sent,!(S<31)){e.next=69;break}return e.next=69,t.skip(31-S);case 69:return e.next=71,t.skip(2);case 71:return e.next=73,t.skip(2);case 73:if(!(t.getPos()<M)){e.next=129;break}return e.next=76,t.readUint32();case 76:return _=e.sent,e.next=79,t.readUint32();case 79:if(D=e.sent,0!==_){e.next=85;break}return i.R8("stsd video invalid box size 0, skip",U,135),e.next=84,t.skip(Number(M-t.getPos()));case 84:return e.abrupt("continue",73);case 85:if(D!==(0,c.A)("avcC")){e.next=90;break}return e.next=88,(0,u.A)(t,r,{type:D,size:_-8},a);case 88:e.next=127;break;case 90:if(D!==(0,c.A)("hvcC")){e.next=95;break}return e.next=93,(0,f.A)(t,r,{type:D,size:_-8},a);case 93:e.next=127;break;case 95:if(D!==(0,c.A)("vvcC")){e.next=100;break}return e.next=98,(0,d.A)(t,r,{type:D,size:_-8},a);case 98:e.next=127;break;case 100:if(D!==(0,c.A)("av1C")){e.next=105;break}return e.next=103,(0,l.A)(t,r,{type:D,size:_-8},a);case 103:e.next=127;break;case 105:if(D!==(0,c.A)("vpcC")){e.next=110;break}return e.next=108,(0,p.A)(t,r,{type:D,size:_-8},a);case 108:e.next=127;break;case 110:if(D!==(0,c.A)("esds")){e.next=115;break}return e.next=113,(0,h.A)(t,r,{type:D,size:_-8},a);case 113:e.next=127;break;case 115:if(D!==(0,c.A)("wave")){e.next=120;break}return e.next=118,(0,x.A)(t,r,{type:D,size:_-8},a);case 118:e.next=127;break;case 120:if(D!==(0,c.A)("colr")){e.next=125;break}return e.next=123,(0,g.A)(t,r,{type:D,size:_-8},a);case 123:e.next=127;break;case 125:return e.next=127,t.skip(Math.min(_-8,Number(M-t.getPos())));case 127:e.next=73;break;case 129:e.next=249;break;case 131:if(1!==r.codecpar.codecType){e.next=241;break}return e.next=134,t.readUint16();case 134:return N=e.sent,e.next=137,t.skip(2);case 137:return e.next=139,t.readString(4);case 139:return r.metadata.vendorId=e.sent,e.next=142,t.readUint16();case 142:return r.codecpar.chLayout.nbChannels=e.sent,e.next=145,t.readUint16();case 145:return r.codecpar.bitsPerCodedSample=e.sent,e.next=148,t.readUint16();case 148:return z.audioCid=e.sent,e.next=151,t.skip(2);case 151:return e.next=153,t.readUint32();case 153:if(e.t0=e.sent,r.codecpar.sampleRate=e.t0>>>16,a.isom&&!(0===w&&N>0)){e.next=193;break}if(1!==N){e.next=169;break}return e.next=159,t.readUint32();case 159:return z.samplesPerFrame=e.sent,e.next=162,t.skip(4);case 162:return e.next=164,t.readUint32();case 164:return z.bytesPerFrame=e.sent,e.next=167,t.skip(4);case 167:e.next=193;break;case 169:if(2!==N){e.next=193;break}return e.next=172,t.skip(4);case 172:return e.t1=Number,e.next=175,t.readUint64();case 175:return e.t2=e.sent,r.codecpar.sampleRate=(0,e.t1)(e.t2),e.next=179,t.readUint32();case 179:return r.codecpar.chLayout.nbChannels=e.sent,e.next=182,t.skip(4);case 182:return e.next=184,t.readUint32();case 184:return r.codecpar.bitsPerCodedSample=e.sent,e.next=187,t.skip(4);case 187:return e.next=189,t.readUint32();case 189:return z.bytesPerFrame=e.sent,e.next=192,t.readUint32();case 192:z.samplesPerFrame=e.sent;case 193:if(!(t.getPos()<M)){e.next=239;break}return e.next=196,t.readUint32();case 196:return C=e.sent,e.next=199,t.readUint32();case 199:if(R=e.sent,0!==C){e.next=205;break}return i.R8("stsd audio invalid box size 0, skip",U,282),e.next=204,t.skip(Number(M-t.getPos()));case 204:return e.abrupt("continue",193);case 205:if(R!==(0,c.A)("esds")){e.next=210;break}return e.next=208,(0,h.A)(t,r,{type:R,size:C-8},a);case 208:e.next=237;break;case 210:if(R!==(0,c.A)("dfLa")){e.next=215;break}return e.next=213,(0,b.A)(t,r,{type:R,size:C-8},a);case 213:e.next=237;break;case 215:if(R!==(0,c.A)("dOps")){e.next=220;break}return e.next=218,(0,v.A)(t,r,{type:R,size:C-8},a);case 218:e.next=237;break;case 220:if(R!==(0,c.A)("wave")){e.next=225;break}return e.next=223,(0,x.A)(t,r,{type:R,size:C-8},a);case 223:e.next=237;break;case 225:if(R!==(0,c.A)("dac3")){e.next=230;break}return e.next=228,(0,m.A)(t,r,{type:R,size:C-8},a);case 228:e.next=237;break;case 230:if(R!==(0,c.A)("dec3")){e.next=235;break}return e.next=233,(0,k.A)(t,r,{type:R,size:C-8},a);case 233:e.next=237;break;case 235:return e.next=237,t.skip(Math.min(C-8,Number(M-t.getPos())));case 237:e.next=193;break;case 239:e.next=249;break;case 241:if(3!==r.codecpar.codecType){e.next=247;break}return B===(0,c.A)("stpp")?r.codecpar.codecId=94232:B===(0,c.A)("wvtt")?r.codecpar.codecId=94226:B===(0,c.A)("tx3g")||B===(0,c.A)("text")?r.codecpar.codecId=94213:B===(0,c.A)("c608")&&(r.codecpar.codecId=94218),e.next=245,t.skip(Math.min(P-8,Number(M-t.getPos())));case 245:e.next=249;break;case 247:return e.next=249,t.skip(Math.min(P-8,Number(M-t.getPos())));case 249:I++,e.next=11;break;case 252:if(!((L=n.size-Number(t.getPos()-A))>0)){e.next=258;break}return e.next=256,t.skip(L);case 256:e.next=259;break;case 258:L<0&&i.z3("read stsd error, size: ".concat(n.size,", read: ").concat(n.size-L),U,383);case 259:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},63080:(e,t,r)=>{"use strict";r.d(t,{A:()=>f});var n=r(25182),a=r(36443),s=r.n(a),i=r(80662),c=r.n(i),o=r(4624),u="src/avformat/formats/mov/parsing/stss.ts";function f(e,t,r,n){return d.apply(this,arguments)}function d(){return(d=(0,n.A)(s().mark((function e(t,r,n,a){var i,f,d,p,l,h;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.getPos(),e.next=3,t.readUint8();case 3:return f=e.sent,e.next=6,t.skip(3);case 6:return d=new(c()),e.next=9,t.readUint32();case 9:if(p=e.sent,0!==f){e.next=21;break}l=0;case 12:if(!(l<p)){e.next=21;break}return e.t0=d,e.next=16,t.readUint32();case 16:e.t1=e.sent,e.t0.set.call(e.t0,e.t1,!0);case 18:l++,e.next=12;break;case 21:if(r.privData.stssSampleNumbersMap=d,!((h=n.size-Number(t.getPos()-i))>0)){e.next=28;break}return e.next=26,t.skip(h);case 26:e.next=29;break;case 28:h<0&&o.z3("read stss error, size: ".concat(n.size,", read: ").concat(n.size-h),u,57);case 29:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},62831:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(25182),a=r(36443),s=r.n(a),i=r(4624),c="src/avformat/formats/mov/parsing/stsz.ts";function o(e,t,r,n){return u.apply(this,arguments)}function u(){return(u=(0,n.A)(s().mark((function e(t,r,n,a){var o,u,f,d,p,l,h;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.getPos(),e.next=3,t.readUint8();case 3:return u=e.sent,e.next=6,t.skip(3);case 6:if(f=[],d=0,p=0,0!==u){e.next=30;break}return e.next=12,t.readUint32();case 12:return d=e.sent,e.next=15,t.readUint32();case 15:p=e.sent,l=0;case 17:if(!(l<p)){e.next=30;break}if(0!==d){e.next=26;break}return e.t0=f,e.next=22,t.readUint32();case 22:e.t1=e.sent,e.t0.push.call(e.t0,e.t1),e.next=27;break;case 26:f[l]=d;case 27:l++,e.next=17;break;case 30:if(r.privData.sampleSizes=f,!((h=n.size-Number(t.getPos()-o))>0)){e.next=37;break}return e.next=35,t.skip(h);case 35:e.next=38;break;case 37:h<0&&i.z3("read stsz error, size: ".concat(n.size,", read: ").concat(n.size-h),c,65);case 38:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},91635:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(25182),a=r(36443),s=r.n(a),i=r(4624),c="src/avformat/formats/mov/parsing/stts.ts";function o(e,t,r,n){return u.apply(this,arguments)}function u(){return(u=(0,n.A)(s().mark((function e(t,r,n,a){var o,u,f,d,p,l,h,x,b;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.getPos(),e.next=3,t.readUint8();case 3:return u=e.sent,e.next=6,t.skip(3);case 6:return f=r.privData,d=[],p=[],e.next=11,t.readUint32();case 11:if(l=e.sent,h=1,0!==u){e.next=29;break}x=0;case 15:if(!(x<l)){e.next=29;break}return e.t0=d,e.next=19,t.readUint32();case 19:return e.t1=e.sent,e.t0.push.call(e.t0,e.t1),e.next=23,t.readInt32();case 23:(h=e.sent)<0&&i.R8("File uses negative stts sample delta, using value 1 instead, sync may be lost!",c,53),p.push(h);case 26:x++,e.next=15;break;case 29:if(f.sttsSampleCounts=d,f.sttsSampleDeltas=p,!((b=n.size-Number(t.getPos()-o))>0)){e.next=37;break}return e.next=35,t.skip(b);case 35:e.next=38;break;case 37:b<0&&i.z3("read stts error, size: ".concat(n.size,", read: ").concat(n.size-b),c,67);case 38:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},6570:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(25182),a=r(36443),s=r.n(a),i=r(4624),c="src/avformat/formats/mov/parsing/stz2.ts";function o(e,t,r,n){return u.apply(this,arguments)}function u(){return(u=(0,n.A)(s().mark((function e(t,r,n,a){var o,u,f,d,p,l,h,x,b,v;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.getPos(),e.next=3,t.readUint8();case 3:return u=e.sent,e.next=6,t.skip(3);case 6:if(f=[],d=0,p=0,0!==u){e.next=54;break}return e.next=12,t.skip(3);case 12:return e.next=14,t.readUint8();case 14:return p=e.sent,e.next=17,t.readUint32();case 17:if(d=e.sent,4!==p){e.next=31;break}l=0;case 20:if(!(l<d)){e.next=29;break}return e.next=23,t.readUint8();case 23:h=e.sent,f[l]=h>>4&15,f[l+1]=15&h;case 26:l+=2,e.next=20;break;case 29:e.next=54;break;case 31:if(8!==p){e.next=42;break}x=0;case 33:if(!(x<d)){e.next=40;break}return e.next=36,t.readUint8();case 36:f[x]=e.sent;case 37:x++,e.next=33;break;case 40:e.next=54;break;case 42:if(16!==p){e.next=53;break}b=0;case 44:if(!(b<d)){e.next=51;break}return e.next=47,t.readUint16();case 47:f[b]=e.sent;case 48:b++,e.next=44;break;case 51:e.next=54;break;case 53:i.z3("Error in length field in stz2 box",c,67);case 54:if(r.privData.sampleSizes=f,!((v=n.size-Number(t.getPos()-o))>0)){e.next=61;break}return e.next=59,t.skip(v);case 59:e.next=62;break;case 61:v<0&&i.z3("read stz2 error, size: ".concat(n.size,", read: ").concat(n.size-v),c,78);case 62:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},67523:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(25182),a=r(36443),s=r.n(a),i=r(4624),c="src/avformat/formats/mov/parsing/tfdt.ts";function o(e,t,r,n){return u.apply(this,arguments)}function u(){return(u=(0,n.A)(s().mark((function e(t,r,n,a){var o,u,f,d;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.getPos(),e.next=3,t.readUint8();case 3:return u=e.sent,e.next=6,t.skip(3);case 6:if(!(f=a.currentFragment.currentTrack)){e.next=21;break}if(1!==u){e.next=14;break}return e.next=11,t.readUint64();case 11:f.baseMediaDecodeTime=e.sent,e.next=21;break;case 14:return e.t0=BigInt,e.t1=Math,e.next=18,t.readUint32();case 18:e.t2=e.sent,e.t3=e.t1.floor.call(e.t1,e.t2),f.baseMediaDecodeTime=(0,e.t0)(e.t3);case 21:if(!((d=n.size-Number(t.getPos()-o))>0)){e.next=27;break}return e.next=25,t.skip(d);case 25:e.next=28;break;case 27:d<0&&i.z3("read vpcc error, size: ".concat(n.size,", read: ").concat(n.size-d),c,57);case 28:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},61807:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(25182),a=r(36443),s=r.n(a),i=r(4624),c="src/avformat/formats/mov/parsing/tfhd.ts";function o(e,t,r,n){return u.apply(this,arguments)}function u(){return(u=(0,n.A)(s().mark((function e(t,r,n,a){var o,u,f,d,p;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.getPos(),e.next=3,t.readUint8();case 3:return e.sent,e.next=6,t.readUint24();case 6:return u=e.sent,e.next=9,t.readUint32();case 9:if(f=e.sent,(d=a.currentFragment.currentTrack).trackId=f,!d){e.next=33;break}if(!(1&u)){e.next=17;break}return e.next=16,t.readUint64();case 16:d.baseDataOffset=e.sent;case 17:if(!(2&u)){e.next=20;break}return e.next=20,t.skip(4);case 20:if(!(8&u)){e.next=24;break}return e.next=23,t.readUint32();case 23:d.defaultSampleDuration=e.sent;case 24:if(!(16&u)){e.next=28;break}return e.next=27,t.readUint32();case 27:d.defaultSampleSize=e.sent;case 28:if(!(32&u)){e.next=32;break}return e.next=31,t.readUint32();case 31:d.defaultSampleFlags=e.sent;case 32:131072&u&&(d.baseIsMoof=!0);case 33:if(!((p=n.size-Number(t.getPos()-o))>0)){e.next=39;break}return e.next=37,t.skip(p);case 37:e.next=40;break;case 39:p<0&&i.z3("read vpcc error, size: ".concat(n.size,", read: ").concat(n.size-p),c,75);case 40:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},27436:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(25182),a=r(36443),s=r.n(a),i=r(4624),c="src/avformat/formats/mov/parsing/tkhd.ts";function o(e,t,r,n){return u.apply(this,arguments)}function u(){return(u=(0,n.A)(s().mark((function e(t,r,n,a){var o,u,f,d,p;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.privData,u=t.getPos(),e.next=4,t.readUint8();case 4:return f=e.sent,e.next=7,t.readUint24();case 7:if(o.flags=e.sent,1&o.flags&&(r.disposition|=1),1!==f){e.next=26;break}return e.next=12,t.readUint64();case 12:return r.metadata.creationTime=e.sent,e.next=15,t.readUint64();case 15:return r.metadata.modificationTime=e.sent,e.next=18,t.readUint32();case 18:return o.trackId=e.sent,e.next=21,t.skip(4);case 21:return e.next=23,t.readUint64();case 23:o.duration=e.sent,e.next=52;break;case 26:return e.t0=BigInt,e.t1=Math,e.next=30,t.readUint32();case 30:return e.t2=e.sent,e.t3=e.t1.floor.call(e.t1,e.t2),r.metadata.creationTime=(0,e.t0)(e.t3),e.t4=BigInt,e.t5=Math,e.next=37,t.readUint32();case 37:return e.t6=e.sent,e.t7=e.t5.floor.call(e.t5,e.t6),r.metadata.modificationTime=(0,e.t4)(e.t7),e.next=42,t.readUint32();case 42:return o.trackId=e.sent,e.next=45,t.skip(4);case 45:return e.t8=BigInt,e.t9=Math,e.next=49,t.readUint32();case 49:e.t10=e.sent,e.t11=e.t9.floor.call(e.t9,e.t10),o.duration=(0,e.t8)(e.t11);case 52:return e.next=54,t.skip(8);case 54:return e.next=56,t.readInt16();case 56:return o.layer=e.sent,e.next=59,t.readInt16();case 59:return o.alternateGroup=e.sent,e.next=62,t.readInt16();case 62:return e.t12=e.sent,o.volume=e.t12>>8,e.next=66,t.skip(2);case 66:o.matrix=new Uint32Array(9),d=0;case 68:if(!(d<9)){e.next=75;break}return e.next=71,t.readUint32();case 71:o.matrix[d]=e.sent;case 72:d++,e.next=68;break;case 75:return e.next=77,t.readUint32();case 77:return e.t13=e.sent,o.width=e.t13>>16,e.next=81,t.readUint32();case 81:if(e.t14=e.sent,o.height=e.t14>>16,!((p=n.size-Number(t.getPos()-u))>0)){e.next=89;break}return e.next=87,t.skip(p);case 87:e.next=90;break;case 89:p<0&&i.z3("read tkhd error, size: ".concat(n.size,", read: ").concat(n.size-p),c,82);case 90:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},25778:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(25182),a=r(36443),s=r.n(a),i=r(4624),c="src/avformat/formats/mov/parsing/trex.ts";function o(e,t,r,n){return u.apply(this,arguments)}function u(){return(u=(0,n.A)(s().mark((function e(t,r,n,a){var o,u,f,d,p,l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.getPos(),e.next=3,t.readUint8();case 3:return e.sent,e.next=6,t.skip(3);case 6:return e.next=8,t.readUint32();case 8:return u=e.sent,e.next=11,t.skip(4);case 11:return e.next=13,t.readUint32();case 13:return f=e.sent,e.next=16,t.readUint32();case 16:return d=e.sent,e.next=19,t.readUint32();case 19:if(p=e.sent,a.trexs.push({trackId:u,duration:f,size:d,flags:p}),!((l=n.size-Number(t.getPos()-o))>0)){e.next=27;break}return e.next=25,t.skip(l);case 25:e.next=28;break;case 27:l<0&&i.z3("read trex error, size: ".concat(n.size,", read: ").concat(n.size-l),c,61);case 28:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},58996:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(25182),a=r(36443),s=r.n(a),i=r(4624),c="src/avformat/formats/mov/parsing/trun.ts";function o(e,t,r,n){return u.apply(this,arguments)}function u(){return(u=(0,n.A)(s().mark((function e(t,r,n,a){var o,u,f,d,p,l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.getPos(),e.next=3,t.readUint8();case 3:return u=e.sent,e.next=6,t.readUint24();case 6:if(f=e.sent,!(d=a.currentFragment.currentTrack)){e.next=57;break}return e.next=11,t.readUint32();case 11:if(d.sampleCount=e.sent,!(1&f)){e.next=16;break}return e.next=15,t.readInt32();case 15:d.dataOffset=e.sent;case 16:if(!(4&f)){e.next=20;break}return e.next=19,t.readUint32();case 19:d.firstSampleFlags=e.sent;case 20:p=0;case 21:if(!(p<d.sampleCount)){e.next=57;break}if(!(256&f)){e.next=28;break}return e.t0=d.sampleDurations,e.next=26,t.readUint32();case 26:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 28:if(!(512&f)){e.next=34;break}return e.t2=d.sampleSizes,e.next=32,t.readUint32();case 32:e.t3=e.sent,e.t2.push.call(e.t2,e.t3);case 34:if(!(1024&f)){e.next=40;break}return e.t4=d.sampleFlags,e.next=38,t.readUint32();case 38:e.t5=e.sent,e.t4.push.call(e.t4,e.t5);case 40:if(!(2048&f)){e.next=54;break}if(0!==u){e.next=49;break}return e.t6=d.sampleCompositionTimeOffset,e.next=45,t.readUint32();case 45:e.t7=e.sent,e.t6.push.call(e.t6,e.t7),e.next=54;break;case 49:return e.t8=d.sampleCompositionTimeOffset,e.next=52,t.readInt32();case 52:e.t9=e.sent,e.t8.push.call(e.t8,e.t9);case 54:p++,e.next=21;break;case 57:if(!((l=n.size-Number(t.getPos()-o))>0)){e.next=63;break}return e.next=61,t.skip(l);case 61:e.next=64;break;case 63:l<0&&i.z3("read vpcc error, size: ".concat(n.size,", read: ").concat(n.size-l),c,79);case 64:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},83561:(e,t,r)=>{"use strict";r.d(t,{A:()=>d});var n=r(25182),a=r(36443),s=r.n(a),i=r(37837),c=r(14686),o=r(4624),u=r(58919),f="src/avformat/formats/mov/parsing/vpcc.ts";function d(e,t,r,n){return p.apply(this,arguments)}function p(){return(p=(0,n.A)(s().mark((function e(t,r,n,a){var d,p,l,h;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d=t.getPos(),e.next=3,t.readUint8();case 3:return e.sent,e.next=6,t.skip(3);case 6:if(r.codecpar.codecId=167,!(n.size-4<=0)){e.next=9;break}return e.abrupt("return");case 9:return p=(0,i.sY)(n.size-4),e.next=12,t.readBuffer(n.size-4,(0,c.JW)(p,n.size-4));case 12:if(l=e.sent,a.foundMoov?(r.sideData[1]=l.slice(),(0,i.Eb)(p)):(r.codecpar.extradata=p,r.codecpar.extradataSize=n.size-4,r.sideData[1]=l.slice()),u.XC(r,r.sideData[1]),!((h=n.size-Number(t.getPos()-d))>0)){e.next=21;break}return e.next=19,t.skip(h);case 19:e.next=22;break;case 21:h<0&&o.z3("read vpcc error, size: ".concat(n.size,", read: ").concat(n.size-h),f,71);case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},60703:(e,t,r)=>{"use strict";r.d(t,{A:()=>d});var n=r(25182),a=r(36443),s=r.n(a),i=r(37837),c=r(14686),o=r(4624),u=r(55611),f="src/avformat/formats/mov/parsing/vvcc.ts";function d(e,t,r,n){return p.apply(this,arguments)}function p(){return(p=(0,n.A)(s().mark((function e(t,r,n,a){var d,p,l,h;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d=t.getPos(),e.next=3,t.readUint8();case 3:return e.sent,e.next=6,t.skip(3);case 6:if(r.codecpar.codecId=196,!(n.size-4<=0)){e.next=9;break}return e.abrupt("return");case 9:return p=(0,i.sY)(n.size-4),e.next=12,t.readBuffer(n.size-4,(0,c.JW)(p,n.size-4));case 12:if(l=e.sent,a.foundMoov?(r.sideData[1]=l.slice(),(0,i.Eb)(p)):(r.codecpar.extradata=p,r.codecpar.extradataSize=n.size-4,r.sideData[1]=l.slice()),u.XC(r,r.sideData[1]),!((h=n.size-Number(t.getPos()-d))>0)){e.next=21;break}return e.next=19,t.skip(h);case 19:e.next=22;break;case 21:h<0&&o.z3("read vvcc error, size: ".concat(n.size,", read: ").concat(n.size-h),f,71);case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},28460:(e,t,r)=>{"use strict";r.d(t,{A:()=>f});var n=r(25182),a=r(36443),s=r.n(a),i=r(4624),c=r(65977),o=r(28412),u="src/avformat/formats/mov/parsing/wave.ts";function f(e,t,r,n){return d.apply(this,arguments)}function d(){return(d=(0,n.A)(s().mark((function e(t,r,n,a){var f,d,p,l,h;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f=t.getPos(),d=f+BigInt(Math.floor(n.size));case 2:if(!(t.getPos()<d)){e.next=23;break}return e.next=5,t.readUint32();case 5:return p=e.sent,e.next=8,t.readUint32();case 8:if(l=e.sent,0!==p){e.next=14;break}return i.R8("wave invalid box size 0, skip",u,47),e.next=13,t.skip(Number(d-t.getPos()));case 13:return e.abrupt("continue",2);case 14:if(l!==(0,c.A)("esds")){e.next=19;break}return e.next=17,(0,o.A)(t,r,{type:l,size:p-8},a);case 17:e.next=21;break;case 19:return e.next=21,t.skip(Math.min(p-8,Number(d-t.getPos())));case 21:e.next=2;break;case 23:if(!((h=n.size-Number(t.getPos()-f))>0)){e.next=29;break}return e.next=27,t.skip(h);case 27:e.next=30;break;case 29:h<0&&i.z3("read vpcc error, size: ".concat(n.size,", read: ").concat(n.size-h),u,73);case 30:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},65977:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(4624),a="src/avformat/function/mktag.ts";function s(e){4!==e.length&&n.R8("tag length is not 4, tag: ".concat(e),a,30);for(var t=0,r=0;r<4;r++)t=t<<8|e.charCodeAt(r);return t}},null:()=>{},23991:(e,t,r)=>{"use strict";function n(e){for(var t=0;t<32&&0===e.readU1();)t++;return e.readU(t)+((1<<t)-1)}function a(e){var t=n(e);return 1&t?(t+1)/2:-t/2}r.d(t,{$x:()=>a,xb:()=>n})},39381:(e,t,r)=>{"use strict";r.d(t,{E3:()=>s,Sg:()=>u,Y0:()=>o,ht:()=>c,r8:()=>a,yd:()=>i});var n=r(63939);function a(e){return n.f[2](e)}function s(e){return a(e+1)<<8|a(e)}function i(e){return a(e)<<8|a(e+1)}function c(e){return a(e)<<16|a(e+1)<<8|a(e+2)}function o(e){return s(e+2)<<16|s(e)}function u(e){return i(e)<<16|i(e+2)}},60264:(e,t,r)=>{"use strict";function n(e){return e.length>4&&0===e[0]&&0===e[1]&&(1===e[2]||0===e[2]&&1===e[3])}function a(e,t){for(var r=0,n=t;n<e.length;n++)switch(e[n]){case 0:r++;break;case 1:if(r>=2)return{offset:n-Math.min(r,3),startCode:Math.min(r+1,4)};r=0;break;default:r=0}return{offset:-1,startCode:0}}function s(e){for(var t=[],r=a(e,0),n={offset:-1,startCode:0};(n=a(e,r.offset+r.startCode)).offset>-1;)t.push(e.subarray(r.offset+r.startCode,n.offset,!0)),r=n;return t.push(e.subarray(r.offset+r.startCode,void 0,!0)),t}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;r||(r=e.length);for(var n=new Uint8Array(e.length),a=0,s=0,i=0;i<e.length;i++){if(i>=t&&i<r)if(0===e[i])a++;else if(3===e[i]&&2===a&&i+1<e.length&&e[i+1]<=3){if(++i===e.length)break;a=0===e[i]?1:0}else a=0;n[s++]=e[i]}return n.slice(0,s)}r.d(t,{BN:()=>i,Bs:()=>n,Ky:()=>a,py:()=>s})},37246:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var n=r(78716),a=r(81570),s=r(134),i=r(4624),c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1048576;(0,n.A)(this,e),(0,s.A)(this,"buffer",void 0),(0,s.A)(this,"pointer",void 0),(0,s.A)(this,"bitsLeft",void 0),(0,s.A)(this,"size",void 0),(0,s.A)(this,"endPointer",void 0),(0,s.A)(this,"pos",void 0),(0,s.A)(this,"error",void 0),(0,s.A)(this,"onFlush",void 0),this.pointer=0,this.bitsLeft=8,this.pos=BigInt(0),this.size=t,this.endPointer=0,this.error=0,this.buffer=new Uint8Array(this.size)}return(0,a.A)(e,[{key:"peekU1",value:function(){(this.remainingLength()<1||1===this.remainingLength()&&0===this.bitsLeft)&&this.flush();var e=this.pointer,t=this.bitsLeft;return 0===t&&(e++,t=8),this.buffer[e]>>t-1&1}},{key:"readU1",value:function(){var e;return(this.remainingLength()<1||1===this.remainingLength()&&0===this.bitsLeft)&&this.flush(),this.bitsLeft--,e=this.buffer[this.pointer]>>this.bitsLeft&1,0===this.bitsLeft&&(this.pointer++,this.bitsLeft=8,this.pos++),e}},{key:"readU",value:function(e){for(var t=0,r=0;r<e;r++)t|=this.readU1()<<e-r-1;return t}},{key:"remainingLength",value:function(){return this.endPointer-this.pointer}},{key:"getBitLeft",value:function(){return this.bitsLeft}},{key:"getPointer",value:function(){return this.pointer}},{key:"setPointer",value:function(e){this.pointer=e}},{key:"getPos",value:function(){return this.pos}},{key:"skip",value:function(e){var t=(e-e%8)/8;this.pointer+=t,this.pos+=BigInt(t);var r=e%8;this.bitsLeft<=r?(this.pointer++,this.pos++,this.bitsLeft=8-(r-this.bitsLeft)):this.bitsLeft-=r}},{key:"flush",value:function(){if(!this.onFlush)throw this.error=-1048574,Error("IOReader error, flush failed because of no flush callback");if(0===this.bitsLeft&&(this.pointer++,this.pos++),!(this.size-this.remainingLength()<=0))if(this.pointer<this.endPointer){this.buffer.set(this.buffer.subarray(this.pointer,this.endPointer),0);var e=this.onFlush(this.buffer.subarray(this.endPointer-this.pointer,this.size));if(e<0)throw this.error=e,Error("IOReader error, flush failed");this.endPointer=this.endPointer-this.pointer+e,this.pointer=0}else{var t=this.onFlush(this.buffer);if(this.endPointer=t,this.pointer=0,this.bitsLeft=8,t<0)throw this.error=t,Error("IOReader error, flush failed")}}},{key:"getBuffer",value:function(){return this.buffer}},{key:"appendBuffer",value:function(e){if(this.size-this.endPointer>=e.length)this.buffer.set(e,this.endPointer),this.endPointer+=e.length;else if(this.buffer.set(this.buffer.subarray(this.pointer,this.endPointer),0),this.endPointer=this.endPointer-this.pointer,this.pointer=0,this.size-this.endPointer>=e.length)this.buffer.set(e,this.endPointer),this.endPointer+=e.length;else{var t=Math.min(this.size-this.endPointer,e.length);this.buffer.set(e.subarray(0,t),this.endPointer),this.endPointer+=t,i.R8("BSReader, call appendBuffer but the buffer's size is lagger then the remaining size","src/common/io/BitReader.ts",241)}}},{key:"reset",value:function(){this.pointer=this.endPointer=0,this.bitsLeft=8,this.error=0,this.pos=BigInt(0)}},{key:"skipPadding",value:function(){this.bitsLeft<8&&(this.bitsLeft=8,this.pointer++,this.pos++)}}]),e}()},83314:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(78716),a=r(81570),s=r(134),i=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1048576;(0,n.A)(this,e),(0,s.A)(this,"buffer",void 0),(0,s.A)(this,"pointer",void 0),(0,s.A)(this,"pos",void 0),(0,s.A)(this,"bitPointer",void 0),(0,s.A)(this,"size",void 0),(0,s.A)(this,"error",void 0),(0,s.A)(this,"onFlush",void 0),this.pointer=0,this.bitPointer=0,this.size=t,this.error=0,this.pos=BigInt(0),this.buffer=new Uint8Array(this.size)}return(0,a.A)(e,[{key:"writeU1",value:function(e){(this.remainingLength()<1||1===this.remainingLength()&&this.bitPointer>=8)&&this.flush(),1&e?this.buffer[this.pointer]|=1<<7-this.bitPointer:this.buffer[this.pointer]&=~(1<<7-this.bitPointer),this.bitPointer++,8===this.bitPointer&&(this.pointer++,this.pos++,this.bitPointer=0)}},{key:"writeU",value:function(e,t){for(var r=0;r<e;r++)this.writeU1(t>>e-r-1&1)}},{key:"remainingLength",value:function(){return this.size-this.pointer}},{key:"flush",value:function(){if(!this.onFlush)throw this.error=-1048574,Error("BSWriter error, flush failed because of no flush callback");if(this.pointer)if(this.bitPointer&&this.pointer>1){var e=this.onFlush(this.buffer.subarray(0,this.pointer-1));if(0!==e)throw this.error=e,Error("BSWriter error, flush failed");this.buffer[0]=this.buffer[this.pointer]}else if(0===this.bitPointer){var t=this.onFlush(this.buffer.subarray(0,this.pointer));if(0!==t)throw this.error=t,Error("BSWriter error, flush failed")}this.pointer=0}},{key:"padding",value:function(){for(;0!==this.bitPointer;)this.writeU1(0)}},{key:"reset",value:function(){this.pointer=0,this.bitPointer=0,this.error=0,this.pos=BigInt(0)}},{key:"getBuffer",value:function(){return this.buffer}},{key:"getPointer",value:function(){return this.pointer}},{key:"getPos",value:function(){return this.pos}}]),e}()},729:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(78716),a=r(81570),s=r(134),i=r(4624),c=r(50011),o=function(){function e(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];(0,n.A)(this,e),(0,s.A)(this,"data",void 0),(0,s.A)(this,"buffer",void 0),(0,s.A)(this,"byteStart",void 0),(0,s.A)(this,"pos",void 0),(0,s.A)(this,"size",void 0),(0,s.A)(this,"littleEndian",void 0),this.buffer=t,this.data=t instanceof Uint8Array?new DataView(t.buffer):t.view,this.byteStart=t instanceof Uint8Array?t.byteOffset:0,this.pos=0,this.size=t.byteLength,this.littleEndian=!r}return(0,a.A)(e,[{key:"writeUint8",value:function(e){this.data.setUint8(this.pos+++this.byteStart,e)}},{key:"writeUint16",value:function(e){this.data.setUint16(this.pos+this.byteStart,e,this.littleEndian),this.pos+=2}},{key:"writeUint24",value:function(e){var t=3840&e,r=240&e,n=15&e;this.littleEndian?(this.writeUint8(n),this.writeUint8(r),this.writeUint8(t)):(this.writeUint8(t),this.writeUint8(r),this.writeUint8(n))}},{key:"writeUint32",value:function(e){this.data.setUint32(this.pos+this.byteStart,e,this.littleEndian),this.pos+=4}},{key:"writeUint64",value:function(e){var t=e&BigInt(4294967295),r=(e&BigInt(4294967295)<<BigInt(32))>>BigInt(32);this.littleEndian?(this.writeUint32(Number(t)),this.writeUint32(Number(r))):(this.writeUint32(Number(r)),this.writeUint32(Number(t)))}},{key:"writeInt8",value:function(e){this.data.setInt8(this.pos+++this.byteStart,e)}},{key:"writeInt16",value:function(e){this.data.setInt16(this.pos+this.byteStart,e,this.littleEndian),this.pos+=2}},{key:"writeInt24",value:function(e){this.writeUint24(e<0?e+16777216:e)}},{key:"writeInt32",value:function(e){this.data.setInt32(this.pos+this.byteStart,e,this.littleEndian),this.pos+=4}},{key:"writeInt64",value:function(e){var t=e&BigInt(4294967295),r=(e&BigInt(4294967295)<<BigInt(32))>>BigInt(32);this.littleEndian?(this.writeInt32(Number(t)),this.writeInt32(Number(r))):(this.writeInt32(Number(r)),this.writeInt32(Number(t)))}},{key:"writeFloat",value:function(e){this.data.setFloat32(this.pos+this.byteStart,e,this.littleEndian),this.pos+=4}},{key:"writeDouble",value:function(e){this.data.setFloat64(this.pos+this.byteStart,e,this.littleEndian),this.pos+=8}},{key:"getPos",value:function(){return this.pos}},{key:"seek",value:function(e){e>this.size&&(e=this.size),this.pos=Math.max(0,e)}},{key:"skip",value:function(e){this.seek(this.pos+e)}},{key:"back",value:function(e){this.seek(this.pos-e)}},{key:"remainingSize",value:function(){return this.size-this.pos}},{key:"writeBuffer",value:function(e){var t=e.length;this.remainingSize()<t&&(t=this.remainingSize(),i.R8("the remaining buffer size is smaller then the wrote buffer, hope set ".concat(e.length,", but set ").concat(t),"src/common/io/BufferWriter.ts",218)),this.buffer.set(e,this.pos),this.pos+=e.length}},{key:"writeString",value:function(e){var t=c.encode(e);return this.writeBuffer(t),t.length}},{key:"getWroteBuffer",value:function(){return this.buffer.subarray(0,this.pos)}},{key:"resetBuffer",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.buffer=e,this.data=e instanceof Uint8Array?new DataView(e.buffer):e.view,this.byteStart=e instanceof Uint8Array?e.byteOffset:0,this.pos=0,this.size=e.byteLength,this.littleEndian=!t}}]),e}()},803:(e,t,r)=>{var n=r(16560),a=r(54220);function s(t){return e.exports=s="function"==typeof n&&"symbol"==typeof a?function(e){return typeof e}:function(e){return e&&"function"==typeof n&&e.constructor===n&&e!==n.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,s(t)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports}}]);